import{S as se,i as re,s as Qt,N as Zi,O as Se,P as Ae,j as D,l as M,Q as ji,q as ft,n as Dt,M as We,p as T,e as V,g as Y,f as ut,h as k,o as U,k as ct,r as A,F as Ni,b as nt,C as Oi,t as rt,w as $e,G as Ke,c as vt,a as xt,m as wt,d as Tt,A as Ot,X as Je,u as Kt,T as $i}from"../chunks/index.bd190abb.js";import{p as Ki,Q as Ji,i as ts,H as es,C as is}from"../chunks/Copyright.281c55c0.js";const ss=!1,rs=ss;var Vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};let ns=l=>crypto.getRandomValues(new Uint8Array(l)),as=(l,t,e)=>{let i=(2<<Math.log(l.length-1)/Math.LN2)-1,s=-~(1.6*i*t/l.length);return(r=t)=>{let n="";for(;;){let a=e(s),o=s;for(;o--;)if(n+=l[a[o]&i]||"",n.length===r)return n}}},os=(l,t=21)=>as(l,t,ns);const ls="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",ki=os(ls,11),ti=l=>{const t=[];for(let e=0;e<l.length;e++){const i=l.charCodeAt(e).toString(2);t.push(i)}return t},hs=(l,t=[" ",":"])=>l.split("").map(e=>t.includes(e)?e:e==="1"?"0":"1").join(""),us=l=>l.map(t=>hs(t)),cs=(l=.5)=>Math.random()<l?1:0,fs=(l=8,t)=>new Array(l).fill(1).map(()=>cs(t)).join(""),gs=(l,t)=>new Array(l).fill(1).map(()=>fs(void 0,t)),_i=10,ds=(l,t)=>({offsetPx:l.index*t,widthPx:l.width*t}),ms=l=>{let t=null;const e=[];for(let i=0;i<l.length;i++)+l[i]===1?t?t.width+=1:t={index:i,width:1}:t&&(e.push(t),t=null);return t&&(e.push(t),t=null),e},ps=(l,t=_i)=>ms(l).map(e=>ds(e,t));function ei(l,t,e){const i=l.slice();return i[10]=t[e],i}function ii(l){let t,e;return{c(){t=Se("rect"),this.h()},l(i){t=Ae(i,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,fill:!0}),D(t).forEach(M),this.h()},h(){T(t,"x",l[10].offsetPx),T(t,"y",0),T(t,"width",l[10].widthPx),T(t,"height",l[0]),T(t,"rx",e=Math.round(l[0]/2)),T(t,"fill","black")},m(i,s){ft(i,t,s)},p(i,s){s&1&&T(t,"height",i[0]),s&1&&e!==(e=Math.round(i[0]/2))&&T(t,"rx",e)},d(i){i&&M(t)}}}function ys(l){let t,e=l[1],i=[];for(let n=0;n<e.length;n+=1)i[n]=ii(ei(l,e,n));let s=[l[2]],r={};for(let n=0;n<s.length;n+=1)r=Zi(r,s[n]);return{c(){t=Se("g");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){t=Ae(n,"g",{});var a=D(t);for(let o=0;o<i.length;o+=1)i[o].l(a);a.forEach(M),this.h()},h(){ji(t,r)},m(n,a){ft(n,t,a);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(t,null)},p(n,[a]){if(a&3){e=n[1];let o;for(o=0;o<e.length;o+=1){const h=ei(n,e,o);i[o]?i[o].p(h,a):(i[o]=ii(h),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},i:Dt,o:Dt,d(n){n&&M(t),We(i,n)}}}function bs(l,t,e){let{index:i}=t,{byte:s}=t,{sizePx:r=_i}=t,{angle:n}=t,{translateX:a}=t,{translateY:o}=t,{originX:h}=t,{originY:u}=t;const f=ps(s),g={"transform-origin":`${h} ${u}`,transform:`translate(${a}, ${o}) rotate(${i*n})`};return l.$$set=c=>{"index"in c&&e(3,i=c.index),"byte"in c&&e(4,s=c.byte),"sizePx"in c&&e(0,r=c.sizePx),"angle"in c&&e(5,n=c.angle),"translateX"in c&&e(6,a=c.translateX),"translateY"in c&&e(7,o=c.translateY),"originX"in c&&e(8,h=c.originX),"originY"in c&&e(9,u=c.originY)},[r,f,g,i,s,n,a,o,h,u]}class vs extends se{constructor(t){super(),re(this,t,bs,ys,Qt,{index:3,byte:4,sizePx:0,angle:5,translateX:6,translateY:7,originX:8,originY:9})}}var Wt={},xs={get exports(){return Wt},set exports(l){Wt=l}},Fe={},ye={get exports(){return Fe},set exports(l){Fe=l}};(function(){var l,t,e,i,s,r;typeof performance<"u"&&performance!==null&&performance.now?ye.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(ye.exports=function(){return(l()-s)/1e6},t=process.hrtime,l=function(){var n;return n=t(),n[0]*1e9+n[1]},i=l(),r=process.uptime()*1e9,s=i-r):Date.now?(ye.exports=function(){return Date.now()-e},e=Date.now()):(ye.exports=function(){return new Date().getTime()-e},e=new Date().getTime())}).call(Vi);var ws=Fe,Vt=typeof window>"u"?Vi:window,be=["moz","webkit"],te="AnimationFrame",ie=Vt["request"+te],le=Vt["cancel"+te]||Vt["cancelRequest"+te];for(var oe=0;!ie&&oe<be.length;oe++)ie=Vt[be[oe]+"Request"+te],le=Vt[be[oe]+"Cancel"+te]||Vt[be[oe]+"CancelRequest"+te];if(!ie||!le){var De=0,si=0,Ut=[],Ts=1e3/60;ie=function(l){if(Ut.length===0){var t=ws(),e=Math.max(0,Ts-(t-De));De=e+t,setTimeout(function(){var i=Ut.slice(0);Ut.length=0;for(var s=0;s<i.length;s++)if(!i[s].cancelled)try{i[s].callback(De)}catch(r){setTimeout(function(){throw r},0)}},Math.round(e))}return Ut.push({handle:++si,callback:l,cancelled:!1}),si},le=function(l){for(var t=0;t<Ut.length;t++)Ut[t].handle===l&&(Ut[t].cancelled=!0)}}xs.exports=function(l){return ie.call(Vt,l)};Wt.cancel=function(){le.apply(Vt,arguments)};Wt.polyfill=function(l){l||(l=Vt),l.requestAnimationFrame=ie,l.cancelAnimationFrame=le};var Ye=function(l){this.ok=!1,this.alpha=1,l.charAt(0)=="#"&&(l=l.substr(1,6)),l=l.replace(/ /g,""),l=l.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};l=t[l]||l;for(var e=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),parseFloat(o[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<e.length;i++){var s=e[i].re,r=e[i].process,n=s.exec(l);if(n){var a=r(n);this.r=a[0],this.g=a[1],this.b=a[2],a.length>3&&(this.alpha=a[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var o=this.r.toString(16),h=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),h.length==1&&(h="0"+h),u.length==1&&(u="0"+u),"#"+o+h+u},this.getHelpXML=function(){for(var o=[],h=0;h<e.length;h++)for(var u=e[h].example,f=0;f<u.length;f++)o[o.length]=u[f];for(var g in t)o[o.length]=g;var c=document.createElement("ul");c.setAttribute("id","rgbcolor-examples");for(var h=0;h<o.length;h++)try{var d=document.createElement("li"),m=new RGBColor(o[h]),p=document.createElement("div");p.style.cssText="margin: 3px; border: 1px solid black; background:"+m.toHex()+"; color:"+m.toHex(),p.appendChild(document.createTextNode("test"));var y=document.createTextNode(" "+o[h]+" -> "+m.toRGB()+" -> "+m.toHex());d.appendChild(p),d.appendChild(y),c.appendChild(d)}catch{}return c}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ri=function(l,t){return(Ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])})(l,t)};function Ii(l,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=l}Ri(l,t),l.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Ss(l){var t="";Array.isArray(l)||(l=[l]);for(var e=0;e<l.length;e++){var i=l[e];if(i.type===x.CLOSE_PATH)t+="z";else if(i.type===x.HORIZ_LINE_TO)t+=(i.relative?"h":"H")+i.x;else if(i.type===x.VERT_LINE_TO)t+=(i.relative?"v":"V")+i.y;else if(i.type===x.MOVE_TO)t+=(i.relative?"m":"M")+i.x+" "+i.y;else if(i.type===x.LINE_TO)t+=(i.relative?"l":"L")+i.x+" "+i.y;else if(i.type===x.CURVE_TO)t+=(i.relative?"c":"C")+i.x1+" "+i.y1+" "+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===x.SMOOTH_CURVE_TO)t+=(i.relative?"s":"S")+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===x.QUAD_TO)t+=(i.relative?"q":"Q")+i.x1+" "+i.y1+" "+i.x+" "+i.y;else if(i.type===x.SMOOTH_QUAD_TO)t+=(i.relative?"t":"T")+i.x+" "+i.y;else{if(i.type!==x.ARC)throw new Error('Unexpected command type "'+i.type+'" at index '+e+".");t+=(i.relative?"a":"A")+i.rX+" "+i.rY+" "+i.xRot+" "+ +i.lArcFlag+" "+ +i.sweepFlag+" "+i.x+" "+i.y}}return t}function Ue(l,t){var e=l[0],i=l[1];return[e*Math.cos(t)-i*Math.sin(t),e*Math.sin(t)+i*Math.cos(t)]}function bt(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];for(var e=0;e<l.length;e++)if(typeof l[e]!="number")throw new Error("assertNumbers arguments["+e+"] is not a number. "+typeof l[e]+" == typeof "+l[e]);return!0}var It=Math.PI;function Be(l,t,e){l.lArcFlag=l.lArcFlag===0?0:1,l.sweepFlag=l.sweepFlag===0?0:1;var i=l.rX,s=l.rY,r=l.x,n=l.y;i=Math.abs(l.rX),s=Math.abs(l.rY);var a=Ue([(t-r)/2,(e-n)/2],-l.xRot/180*It),o=a[0],h=a[1],u=Math.pow(o,2)/Math.pow(i,2)+Math.pow(h,2)/Math.pow(s,2);1<u&&(i*=Math.sqrt(u),s*=Math.sqrt(u)),l.rX=i,l.rY=s;var f=Math.pow(i,2)*Math.pow(h,2)+Math.pow(s,2)*Math.pow(o,2),g=(l.lArcFlag!==l.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(i,2)*Math.pow(s,2)-f)/f)),c=i*h/s*g,d=-s*o/i*g,m=Ue([c,d],l.xRot/180*It);l.cX=m[0]+(t+r)/2,l.cY=m[1]+(e+n)/2,l.phi1=Math.atan2((h-d)/s,(o-c)/i),l.phi2=Math.atan2((-h-d)/s,(-o-c)/i),l.sweepFlag===0&&l.phi2>l.phi1&&(l.phi2-=2*It),l.sweepFlag===1&&l.phi2<l.phi1&&(l.phi2+=2*It),l.phi1*=180/It,l.phi2*=180/It}function ri(l,t,e){bt(l,t,e);var i=l*l+t*t-e*e;if(0>i)return[];if(i===0)return[[l*e/(l*l+t*t),t*e/(l*l+t*t)]];var s=Math.sqrt(i);return[[(l*e+t*s)/(l*l+t*t),(t*e-l*s)/(l*l+t*t)],[(l*e-t*s)/(l*l+t*t),(t*e+l*s)/(l*l+t*t)]]}var et,Mt=Math.PI/180;function ni(l,t,e){return(1-e)*l+e*t}function ai(l,t,e,i){return l+Math.cos(i/180*It)*t+Math.sin(i/180*It)*e}function oi(l,t,e,i){var s=1e-6,r=t-l,n=e-t,a=3*r+3*(i-e)-6*n,o=6*(n-r),h=3*r;return Math.abs(a)<s?[-h/o]:function(u,f,g){g===void 0&&(g=1e-6);var c=u*u/4-f;if(c<-g)return[];if(c<=g)return[-u/2];var d=Math.sqrt(c);return[-u/2-d,-u/2+d]}(o/a,h/a,s)}function li(l,t,e,i,s){var r=1-s;return l*(r*r*r)+t*(3*r*r*s)+e*(3*r*s*s)+i*(s*s*s)}(function(l){function t(){return s(function(a,o,h){return a.relative&&(a.x1!==void 0&&(a.x1+=o),a.y1!==void 0&&(a.y1+=h),a.x2!==void 0&&(a.x2+=o),a.y2!==void 0&&(a.y2+=h),a.x!==void 0&&(a.x+=o),a.y!==void 0&&(a.y+=h),a.relative=!1),a})}function e(){var a=NaN,o=NaN,h=NaN,u=NaN;return s(function(f,g,c){return f.type&x.SMOOTH_CURVE_TO&&(f.type=x.CURVE_TO,a=isNaN(a)?g:a,o=isNaN(o)?c:o,f.x1=f.relative?g-a:2*g-a,f.y1=f.relative?c-o:2*c-o),f.type&x.CURVE_TO?(a=f.relative?g+f.x2:f.x2,o=f.relative?c+f.y2:f.y2):(a=NaN,o=NaN),f.type&x.SMOOTH_QUAD_TO&&(f.type=x.QUAD_TO,h=isNaN(h)?g:h,u=isNaN(u)?c:u,f.x1=f.relative?g-h:2*g-h,f.y1=f.relative?c-u:2*c-u),f.type&x.QUAD_TO?(h=f.relative?g+f.x1:f.x1,u=f.relative?c+f.y1:f.y1):(h=NaN,u=NaN),f})}function i(){var a=NaN,o=NaN;return s(function(h,u,f){if(h.type&x.SMOOTH_QUAD_TO&&(h.type=x.QUAD_TO,a=isNaN(a)?u:a,o=isNaN(o)?f:o,h.x1=h.relative?u-a:2*u-a,h.y1=h.relative?f-o:2*f-o),h.type&x.QUAD_TO){a=h.relative?u+h.x1:h.x1,o=h.relative?f+h.y1:h.y1;var g=h.x1,c=h.y1;h.type=x.CURVE_TO,h.x1=((h.relative?0:u)+2*g)/3,h.y1=((h.relative?0:f)+2*c)/3,h.x2=(h.x+2*g)/3,h.y2=(h.y+2*c)/3}else a=NaN,o=NaN;return h})}function s(a){var o=0,h=0,u=NaN,f=NaN;return function(g){if(isNaN(u)&&!(g.type&x.MOVE_TO))throw new Error("path must start with moveto");var c=a(g,o,h,u,f);return g.type&x.CLOSE_PATH&&(o=u,h=f),g.x!==void 0&&(o=g.relative?o+g.x:g.x),g.y!==void 0&&(h=g.relative?h+g.y:g.y),g.type&x.MOVE_TO&&(u=o,f=h),c}}function r(a,o,h,u,f,g){return bt(a,o,h,u,f,g),s(function(c,d,m,p){var y=c.x1,v=c.x2,b=c.relative&&!isNaN(p),w=c.x!==void 0?c.x:b?0:d,O=c.y!==void 0?c.y:b?0:m;function P(G){return G*G}c.type&x.HORIZ_LINE_TO&&o!==0&&(c.type=x.LINE_TO,c.y=c.relative?0:m),c.type&x.VERT_LINE_TO&&h!==0&&(c.type=x.LINE_TO,c.x=c.relative?0:d),c.x!==void 0&&(c.x=c.x*a+O*h+(b?0:f)),c.y!==void 0&&(c.y=w*o+c.y*u+(b?0:g)),c.x1!==void 0&&(c.x1=c.x1*a+c.y1*h+(b?0:f)),c.y1!==void 0&&(c.y1=y*o+c.y1*u+(b?0:g)),c.x2!==void 0&&(c.x2=c.x2*a+c.y2*h+(b?0:f)),c.y2!==void 0&&(c.y2=v*o+c.y2*u+(b?0:g));var C=a*u-o*h;if(c.xRot!==void 0&&(a!==1||o!==0||h!==0||u!==1))if(C===0)delete c.rX,delete c.rY,delete c.xRot,delete c.lArcFlag,delete c.sweepFlag,c.type=x.LINE_TO;else{var S=c.xRot*Math.PI/180,_=Math.sin(S),L=Math.cos(S),H=1/P(c.rX),Q=1/P(c.rY),K=P(L)*H+P(_)*Q,z=2*_*L*(H-Q),R=P(_)*H+P(L)*Q,J=K*u*u-z*o*u+R*o*o,W=z*(a*u+o*h)-2*(K*h*u+R*a*o),it=K*h*h-z*a*h+R*a*a,F=(Math.atan2(W,J-it)+Math.PI)%Math.PI/2,B=Math.sin(F),j=Math.cos(F);c.rX=Math.abs(C)/Math.sqrt(J*P(j)+W*B*j+it*P(B)),c.rY=Math.abs(C)/Math.sqrt(J*P(B)-W*B*j+it*P(j)),c.xRot=180*F/Math.PI}return c.sweepFlag!==void 0&&0>C&&(c.sweepFlag=+!c.sweepFlag),c})}function n(){return function(a){var o={};for(var h in a)o[h]=a[h];return o}}l.ROUND=function(a){function o(h){return Math.round(h*a)/a}return a===void 0&&(a=1e13),bt(a),function(h){return h.x1!==void 0&&(h.x1=o(h.x1)),h.y1!==void 0&&(h.y1=o(h.y1)),h.x2!==void 0&&(h.x2=o(h.x2)),h.y2!==void 0&&(h.y2=o(h.y2)),h.x!==void 0&&(h.x=o(h.x)),h.y!==void 0&&(h.y=o(h.y)),h.rX!==void 0&&(h.rX=o(h.rX)),h.rY!==void 0&&(h.rY=o(h.rY)),h}},l.TO_ABS=t,l.TO_REL=function(){return s(function(a,o,h){return a.relative||(a.x1!==void 0&&(a.x1-=o),a.y1!==void 0&&(a.y1-=h),a.x2!==void 0&&(a.x2-=o),a.y2!==void 0&&(a.y2-=h),a.x!==void 0&&(a.x-=o),a.y!==void 0&&(a.y-=h),a.relative=!0),a})},l.NORMALIZE_HVZ=function(a,o,h){return a===void 0&&(a=!0),o===void 0&&(o=!0),h===void 0&&(h=!0),s(function(u,f,g,c,d){if(isNaN(c)&&!(u.type&x.MOVE_TO))throw new Error("path must start with moveto");return o&&u.type&x.HORIZ_LINE_TO&&(u.type=x.LINE_TO,u.y=u.relative?0:g),h&&u.type&x.VERT_LINE_TO&&(u.type=x.LINE_TO,u.x=u.relative?0:f),a&&u.type&x.CLOSE_PATH&&(u.type=x.LINE_TO,u.x=u.relative?c-f:c,u.y=u.relative?d-g:d),u.type&x.ARC&&(u.rX===0||u.rY===0)&&(u.type=x.LINE_TO,delete u.rX,delete u.rY,delete u.xRot,delete u.lArcFlag,delete u.sweepFlag),u})},l.NORMALIZE_ST=e,l.QT_TO_C=i,l.INFO=s,l.SANITIZE=function(a){a===void 0&&(a=0),bt(a);var o=NaN,h=NaN,u=NaN,f=NaN;return s(function(g,c,d,m,p){var y=Math.abs,v=!1,b=0,w=0;if(g.type&x.SMOOTH_CURVE_TO&&(b=isNaN(o)?0:c-o,w=isNaN(h)?0:d-h),g.type&(x.CURVE_TO|x.SMOOTH_CURVE_TO)?(o=g.relative?c+g.x2:g.x2,h=g.relative?d+g.y2:g.y2):(o=NaN,h=NaN),g.type&x.SMOOTH_QUAD_TO?(u=isNaN(u)?c:2*c-u,f=isNaN(f)?d:2*d-f):g.type&x.QUAD_TO?(u=g.relative?c+g.x1:g.x1,f=g.relative?d+g.y1:g.y2):(u=NaN,f=NaN),g.type&x.LINE_COMMANDS||g.type&x.ARC&&(g.rX===0||g.rY===0||!g.lArcFlag)||g.type&x.CURVE_TO||g.type&x.SMOOTH_CURVE_TO||g.type&x.QUAD_TO||g.type&x.SMOOTH_QUAD_TO){var O=g.x===void 0?0:g.relative?g.x:g.x-c,P=g.y===void 0?0:g.relative?g.y:g.y-d;b=isNaN(u)?g.x1===void 0?b:g.relative?g.x:g.x1-c:u-c,w=isNaN(f)?g.y1===void 0?w:g.relative?g.y:g.y1-d:f-d;var C=g.x2===void 0?0:g.relative?g.x:g.x2-c,S=g.y2===void 0?0:g.relative?g.y:g.y2-d;y(O)<=a&&y(P)<=a&&y(b)<=a&&y(w)<=a&&y(C)<=a&&y(S)<=a&&(v=!0)}return g.type&x.CLOSE_PATH&&y(c-m)<=a&&y(d-p)<=a&&(v=!0),v?[]:g})},l.MATRIX=r,l.ROTATE=function(a,o,h){o===void 0&&(o=0),h===void 0&&(h=0),bt(a,o,h);var u=Math.sin(a),f=Math.cos(a);return r(f,u,-u,f,o-o*f+h*u,h-o*u-h*f)},l.TRANSLATE=function(a,o){return o===void 0&&(o=0),bt(a,o),r(1,0,0,1,a,o)},l.SCALE=function(a,o){return o===void 0&&(o=a),bt(a,o),r(a,0,0,o,0,0)},l.SKEW_X=function(a){return bt(a),r(1,0,Math.atan(a),1,0,0)},l.SKEW_Y=function(a){return bt(a),r(1,Math.atan(a),0,1,0,0)},l.X_AXIS_SYMMETRY=function(a){return a===void 0&&(a=0),bt(a),r(-1,0,0,1,a,0)},l.Y_AXIS_SYMMETRY=function(a){return a===void 0&&(a=0),bt(a),r(1,0,0,-1,0,a)},l.A_TO_C=function(){return s(function(a,o,h){return x.ARC===a.type?function(u,f,g){var c,d,m,p;u.cX||Be(u,f,g);for(var y=Math.min(u.phi1,u.phi2),v=Math.max(u.phi1,u.phi2)-y,b=Math.ceil(v/90),w=new Array(b),O=f,P=g,C=0;C<b;C++){var S=ni(u.phi1,u.phi2,C/b),_=ni(u.phi1,u.phi2,(C+1)/b),L=_-S,H=4/3*Math.tan(L*Mt/4),Q=[Math.cos(S*Mt)-H*Math.sin(S*Mt),Math.sin(S*Mt)+H*Math.cos(S*Mt)],K=Q[0],z=Q[1],R=[Math.cos(_*Mt),Math.sin(_*Mt)],J=R[0],W=R[1],it=[J+H*Math.sin(_*Mt),W-H*Math.cos(_*Mt)],F=it[0],B=it[1];w[C]={relative:u.relative,type:x.CURVE_TO};var j=function(G,ot){var st=Ue([G*u.rX,ot*u.rY],u.xRot),At=st[0],Et=st[1];return[u.cX+At,u.cY+Et]};c=j(K,z),w[C].x1=c[0],w[C].y1=c[1],d=j(F,B),w[C].x2=d[0],w[C].y2=d[1],m=j(J,W),w[C].x=m[0],w[C].y=m[1],u.relative&&(w[C].x1-=O,w[C].y1-=P,w[C].x2-=O,w[C].y2-=P,w[C].x-=O,w[C].y-=P),O=(p=[w[C].x,w[C].y])[0],P=p[1]}return w}(a,a.relative?0:o,a.relative?0:h):a})},l.ANNOTATE_ARCS=function(){return s(function(a,o,h){return a.relative&&(o=0,h=0),x.ARC===a.type&&Be(a,o,h),a})},l.CLONE=n,l.CALCULATE_BOUNDS=function(){var a=function(g){var c={};for(var d in g)c[d]=g[d];return c},o=t(),h=i(),u=e(),f=s(function(g,c,d){var m=u(h(o(a(g))));function p(B){B>f.maxX&&(f.maxX=B),B<f.minX&&(f.minX=B)}function y(B){B>f.maxY&&(f.maxY=B),B<f.minY&&(f.minY=B)}if(m.type&x.DRAWING_COMMANDS&&(p(c),y(d)),m.type&x.HORIZ_LINE_TO&&p(m.x),m.type&x.VERT_LINE_TO&&y(m.y),m.type&x.LINE_TO&&(p(m.x),y(m.y)),m.type&x.CURVE_TO){p(m.x),y(m.y);for(var v=0,b=oi(c,m.x1,m.x2,m.x);v<b.length;v++)0<(F=b[v])&&1>F&&p(li(c,m.x1,m.x2,m.x,F));for(var w=0,O=oi(d,m.y1,m.y2,m.y);w<O.length;w++)0<(F=O[w])&&1>F&&y(li(d,m.y1,m.y2,m.y,F))}if(m.type&x.ARC){p(m.x),y(m.y),Be(m,c,d);for(var P=m.xRot/180*Math.PI,C=Math.cos(P)*m.rX,S=Math.sin(P)*m.rX,_=-Math.sin(P)*m.rY,L=Math.cos(P)*m.rY,H=m.phi1<m.phi2?[m.phi1,m.phi2]:-180>m.phi2?[m.phi2+360,m.phi1+360]:[m.phi2,m.phi1],Q=H[0],K=H[1],z=function(B){var j=B[0],G=B[1],ot=180*Math.atan2(G,j)/Math.PI;return ot<Q?ot+360:ot},R=0,J=ri(_,-C,0).map(z);R<J.length;R++)(F=J[R])>Q&&F<K&&p(ai(m.cX,C,_,F));for(var W=0,it=ri(L,-S,0).map(z);W<it.length;W++){var F;(F=it[W])>Q&&F<K&&y(ai(m.cY,S,L,F))}}return g});return f.minX=1/0,f.maxX=-1/0,f.minY=1/0,f.maxY=-1/0,f}})(et||(et={}));var yt,Li=function(){function l(){}return l.prototype.round=function(t){return this.transform(et.ROUND(t))},l.prototype.toAbs=function(){return this.transform(et.TO_ABS())},l.prototype.toRel=function(){return this.transform(et.TO_REL())},l.prototype.normalizeHVZ=function(t,e,i){return this.transform(et.NORMALIZE_HVZ(t,e,i))},l.prototype.normalizeST=function(){return this.transform(et.NORMALIZE_ST())},l.prototype.qtToC=function(){return this.transform(et.QT_TO_C())},l.prototype.aToC=function(){return this.transform(et.A_TO_C())},l.prototype.sanitize=function(t){return this.transform(et.SANITIZE(t))},l.prototype.translate=function(t,e){return this.transform(et.TRANSLATE(t,e))},l.prototype.scale=function(t,e){return this.transform(et.SCALE(t,e))},l.prototype.rotate=function(t,e,i){return this.transform(et.ROTATE(t,e,i))},l.prototype.matrix=function(t,e,i,s,r,n){return this.transform(et.MATRIX(t,e,i,s,r,n))},l.prototype.skewX=function(t){return this.transform(et.SKEW_X(t))},l.prototype.skewY=function(t){return this.transform(et.SKEW_Y(t))},l.prototype.xSymmetry=function(t){return this.transform(et.X_AXIS_SYMMETRY(t))},l.prototype.ySymmetry=function(t){return this.transform(et.Y_AXIS_SYMMETRY(t))},l.prototype.annotateArcs=function(){return this.transform(et.ANNOTATE_ARCS())},l}(),As=function(l){return l===" "||l==="	"||l==="\r"||l===`
`},hi=function(l){return"0".charCodeAt(0)<=l.charCodeAt(0)&&l.charCodeAt(0)<="9".charCodeAt(0)},Cs=function(l){function t(){var e=l.call(this)||this;return e.curNumber="",e.curCommandType=-1,e.curCommandRelative=!1,e.canParseCommandOrComma=!0,e.curNumberHasExp=!1,e.curNumberHasExpDigits=!1,e.curNumberHasDecimal=!1,e.curArgs=[],e}return Ii(t,l),t.prototype.finish=function(e){if(e===void 0&&(e=[]),this.parse(" ",e),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return e},t.prototype.parse=function(e,i){var s=this;i===void 0&&(i=[]);for(var r=function(f){i.push(f),s.curArgs.length=0,s.canParseCommandOrComma=!0},n=0;n<e.length;n++){var a=e[n],o=!(this.curCommandType!==x.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),h=hi(a)&&(this.curNumber==="0"&&a==="0"||o);if(!hi(a)||h)if(a!=="e"&&a!=="E")if(a!=="-"&&a!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(a!=="."||this.curNumberHasExp||this.curNumberHasDecimal||o){if(this.curNumber&&this.curCommandType!==-1){var u=Number(this.curNumber);if(isNaN(u))throw new SyntaxError("Invalid number ending at "+n);if(this.curCommandType===x.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>u)throw new SyntaxError('Expected positive number, got "'+u+'" at index "'+n+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+n+'"')}this.curArgs.push(u),this.curArgs.length===Es[this.curCommandType]&&(x.HORIZ_LINE_TO===this.curCommandType?r({type:x.HORIZ_LINE_TO,relative:this.curCommandRelative,x:u}):x.VERT_LINE_TO===this.curCommandType?r({type:x.VERT_LINE_TO,relative:this.curCommandRelative,y:u}):this.curCommandType===x.MOVE_TO||this.curCommandType===x.LINE_TO||this.curCommandType===x.SMOOTH_QUAD_TO?(r({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),x.MOVE_TO===this.curCommandType&&(this.curCommandType=x.LINE_TO)):this.curCommandType===x.CURVE_TO?r({type:x.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===x.SMOOTH_CURVE_TO?r({type:x.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===x.QUAD_TO?r({type:x.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===x.ARC&&r({type:x.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!As(a))if(a===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(a!=="+"&&a!=="-"&&a!==".")if(h)this.curNumber=a,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+n+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+a+'" at index '+n+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,a!=="z"&&a!=="Z")if(a==="h"||a==="H")this.curCommandType=x.HORIZ_LINE_TO,this.curCommandRelative=a==="h";else if(a==="v"||a==="V")this.curCommandType=x.VERT_LINE_TO,this.curCommandRelative=a==="v";else if(a==="m"||a==="M")this.curCommandType=x.MOVE_TO,this.curCommandRelative=a==="m";else if(a==="l"||a==="L")this.curCommandType=x.LINE_TO,this.curCommandRelative=a==="l";else if(a==="c"||a==="C")this.curCommandType=x.CURVE_TO,this.curCommandRelative=a==="c";else if(a==="s"||a==="S")this.curCommandType=x.SMOOTH_CURVE_TO,this.curCommandRelative=a==="s";else if(a==="q"||a==="Q")this.curCommandType=x.QUAD_TO,this.curCommandRelative=a==="q";else if(a==="t"||a==="T")this.curCommandType=x.SMOOTH_QUAD_TO,this.curCommandRelative=a==="t";else{if(a!=="a"&&a!=="A")throw new SyntaxError('Unexpected character "'+a+'" at index '+n+".");this.curCommandType=x.ARC,this.curCommandRelative=a==="a"}else i.push({type:x.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=a,this.curNumberHasDecimal=a==="."}else this.curNumber+=a,this.curNumberHasDecimal=!0;else this.curNumber+=a;else this.curNumber+=a,this.curNumberHasExp=!0;else this.curNumber+=a,this.curNumberHasExpDigits=this.curNumberHasExp}return i},t.prototype.transform=function(e){return Object.create(this,{parse:{value:function(i,s){s===void 0&&(s=[]);for(var r=0,n=Object.getPrototypeOf(this).parse.call(this,i);r<n.length;r++){var a=n[r],o=e(a);Array.isArray(o)?s.push.apply(s,o):s.push(o)}return s}}})},t}(Li),x=function(l){function t(e){var i=l.call(this)||this;return i.commands=typeof e=="string"?t.parse(e):e,i}return Ii(t,l),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var e=et.CALCULATE_BOUNDS();return this.transform(e),e},t.prototype.transform=function(e){for(var i=[],s=0,r=this.commands;s<r.length;s++){var n=e(r[s]);Array.isArray(n)?i.push.apply(i,n):i.push(n)}return this.commands=i,this},t.encode=function(e){return Ss(e)},t.parse=function(e){var i=new Cs,s=[];return i.parse(e,s),i.finish(s),s},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t}(Li),Es=((yt={})[x.MOVE_TO]=2,yt[x.LINE_TO]=2,yt[x.HORIZ_LINE_TO]=1,yt[x.VERT_LINE_TO]=1,yt[x.CLOSE_PATH]=0,yt[x.QUAD_TO]=4,yt[x.SMOOTH_QUAD_TO]=2,yt[x.CURVE_TO]=6,yt[x.SMOOTH_CURVE_TO]=4,yt[x.ARC]=7,yt);function Te(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Te=function(t){return typeof t}:Te=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(l)}function Ps(l,t){if(!(l instanceof t))throw new TypeError("Cannot call a class as a function")}var Ms=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Ns=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Os(l,t,e,i,s){if(typeof l=="string"&&(l=document.getElementById(l)),!l||Te(l)!=="object"||!("getContext"in l))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var r=l.getContext("2d");try{return r.getImageData(t,e,i,s)}catch(n){throw new Error("unable to access image data: "+n)}}function Vs(l,t,e,i,s,r){if(!(isNaN(r)||r<1)){r|=0;var n=Os(l,t,e,i,s);n=ks(n,t,e,i,s,r),l.getContext("2d").putImageData(n,t,e)}}function ks(l,t,e,i,s,r){for(var n=l.data,a=2*r+1,o=i-1,h=s-1,u=r+1,f=u*(u+1)/2,g=new ui,c=g,d,m=1;m<a;m++)c=c.next=new ui,m===u&&(d=c);c.next=g;for(var p=null,y=null,v=0,b=0,w=Ms[r],O=Ns[r],P=0;P<s;P++){c=g;for(var C=n[b],S=n[b+1],_=n[b+2],L=n[b+3],H=0;H<u;H++)c.r=C,c.g=S,c.b=_,c.a=L,c=c.next;for(var Q=0,K=0,z=0,R=0,J=u*C,W=u*S,it=u*_,F=u*L,B=f*C,j=f*S,G=f*_,ot=f*L,st=1;st<u;st++){var At=b+((o<st?o:st)<<2),Et=n[At],Zt=n[At+1],ae=n[At+2],$=n[At+3],I=u-st;B+=(c.r=Et)*I,j+=(c.g=Zt)*I,G+=(c.b=ae)*I,ot+=(c.a=$)*I,Q+=Et,K+=Zt,z+=ae,R+=$,c=c.next}p=g,y=d;for(var _t=0;_t<i;_t++){var Xt=ot*w>>O;if(n[b+3]=Xt,Xt!==0){var Rt=255/Xt;n[b]=(B*w>>O)*Rt,n[b+1]=(j*w>>O)*Rt,n[b+2]=(G*w>>O)*Rt}else n[b]=n[b+1]=n[b+2]=0;B-=J,j-=W,G-=it,ot-=F,J-=p.r,W-=p.g,it-=p.b,F-=p.a;var mt=_t+r+1;mt=v+(mt<o?mt:o)<<2,Q+=p.r=n[mt],K+=p.g=n[mt+1],z+=p.b=n[mt+2],R+=p.a=n[mt+3],B+=Q,j+=K,G+=z,ot+=R,p=p.next;var Pt=y,jt=Pt.r,zt=Pt.g,$t=Pt.b,Ft=Pt.a;J+=jt,W+=zt,it+=$t,F+=Ft,Q-=jt,K-=zt,z-=$t,R-=Ft,y=y.next,b+=4}v+=i}for(var Ct=0;Ct<i;Ct++){b=Ct<<2;var dt=n[b],pt=n[b+1],Yt=n[b+2],lt=n[b+3],Me=u*dt,Ne=u*pt,Oe=u*Yt,Ve=u*lt,ce=f*dt,fe=f*pt,ge=f*Yt,de=f*lt;c=g;for(var Ze=0;Ze<u;Ze++)c.r=dt,c.g=pt,c.b=Yt,c.a=lt,c=c.next;for(var je=i,ke=0,_e=0,Re=0,Ie=0,me=1;me<=r;me++){b=je+Ct<<2;var pe=u-me;ce+=(c.r=dt=n[b])*pe,fe+=(c.g=pt=n[b+1])*pe,ge+=(c.b=Yt=n[b+2])*pe,de+=(c.a=lt=n[b+3])*pe,Ie+=dt,ke+=pt,_e+=Yt,Re+=lt,c=c.next,me<h&&(je+=i)}b=Ct,p=g,y=d;for(var Le=0;Le<s;Le++){var ht=b<<2;n[ht+3]=lt=de*w>>O,lt>0?(lt=255/lt,n[ht]=(ce*w>>O)*lt,n[ht+1]=(fe*w>>O)*lt,n[ht+2]=(ge*w>>O)*lt):n[ht]=n[ht+1]=n[ht+2]=0,ce-=Me,fe-=Ne,ge-=Oe,de-=Ve,Me-=p.r,Ne-=p.g,Oe-=p.b,Ve-=p.a,ht=Ct+((ht=Le+u)<h?ht:h)*i<<2,ce+=Ie+=p.r=n[ht],fe+=ke+=p.g=n[ht+1],ge+=_e+=p.b=n[ht+2],de+=Re+=p.a=n[ht+3],p=p.next,Me+=dt=y.r,Ne+=pt=y.g,Oe+=Yt=y.b,Ve+=lt=y.a,Ie-=dt,ke-=pt,_e-=Yt,Re-=lt,y=y.next,b+=i}}return l}var ui=function l(){Ps(this,l),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function ne(l){return l.replace(/(?!\u3000)\s+/gm," ")}function _s(l){return l.replace(/^[\n \t]+/,"")}function Rs(l){return l.replace(/[\n \t]+$/,"")}function gt(l){const t=l.match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm);return t?t.map(parseFloat):[]}function Is(l){const t=gt(l);return[t[0]||0,t[1]||0,t[2]||0,t[3]||0,t[4]||0,t[5]||0]}const Ls=/^[A-Z-]+$/;function Ds(l){return Ls.test(l)?l.toLowerCase():l}function Di(l){const t=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(l);return t&&(t[2]||t[3]||t[4])||""}function Bs(l){if(!l.startsWith("rgb"))return l;let t=3;return l.replace(/\d+(\.\d+)?/g,(i,s)=>t--&&s?String(Math.round(parseFloat(i))):i)}const Xs=/(\[[^\]]+\])/g,zs=/(#[^\s+>~.[:]+)/g,Fs=/(\.[^\s+>~.[:]+)/g,Ys=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,Us=/(:[\w-]+\([^)]*\))/gi,Hs=/(:[^\s+>~.[:]+)/g,Ws=/([^\s+>~.[:]+)/g;function Ht(l,t){const e=t.exec(l);return e?[l.replace(t," "),e.length]:[l,0]}function qs(l){const t=[0,0,0];let e=l.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),i=0;return[e,i]=Ht(e,Xs),t[1]+=i,[e,i]=Ht(e,zs),t[0]+=i,[e,i]=Ht(e,Fs),t[1]+=i,[e,i]=Ht(e,Ys),t[2]+=i,[e,i]=Ht(e,Us),t[1]+=i,[e,i]=Ht(e,Hs),t[1]+=i,e=e.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[e,i]=Ht(e,Ws),t[2]+=i,t.join("")}const ee=1e-8;function ci(l){return Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2))}function He(l,t){return(l[0]*t[0]+l[1]*t[1])/(ci(l)*ci(t))}function fi(l,t){return(l[0]*t[1]<l[1]*t[0]?-1:1)*Math.acos(He(l,t))}function gi(l){return l*l*l}function di(l){return 3*l*l*(1-l)}function mi(l){return 3*l*(1-l)*(1-l)}function pi(l){return(1-l)*(1-l)*(1-l)}function yi(l){return l*l}function bi(l){return 2*l*(1-l)}function vi(l){return(1-l)*(1-l)}class E{static empty(t){return new E(t,"EMPTY","")}split(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ";const{document:e,name:i}=this;return ne(this.getString()).trim().split(t).map(s=>new E(e,i,s))}hasValue(t){const e=this.value;return e!==null&&e!==""&&(t||e!==0)&&typeof e<"u"}isString(t){const{value:e}=this,i=typeof e=="string";return!i||!t?i:t.test(e)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;const t=this.getString();switch(!0){case t.endsWith("px"):case/^[0-9]+$/.test(t):return!0;default:return!1}}setValue(t){return this.value=t,this}getValue(t){return typeof t>"u"||this.hasValue()?this.value:t}getNumber(t){if(!this.hasValue())return typeof t>"u"?0:parseFloat(t);const{value:e}=this;let i=parseFloat(e);return this.isString(/%$/)&&(i/=100),i}getString(t){return typeof t>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(t)}getColor(t){let e=this.getString(t);return this.isNormalizedColor||(this.isNormalizedColor=!0,e=Bs(e),this.value=e),e}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;const[i,s]=typeof t=="boolean"?[void 0,t]:[t],{viewPort:r}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(r.computeSize("x"),r.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(r.computeSize("x"),r.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*r.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*r.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&s):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*r.computeSize(i);default:{const n=this.getNumber();return e&&n<1?n*r.computeSize(i):n}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){const t=this.getString(),e=/#([^)'"]+)/.exec(t),i=(e==null?void 0:e[1])||t;return this.document.definitions[i]}getFillStyleDefinition(t,e){let i=this.getDefinition();if(!i)return null;if(typeof i.createGradient=="function"&&"getBoundingBox"in t)return i.createGradient(this.document.ctx,t,e);if(typeof i.createPattern=="function"){if(i.getHrefAttribute().hasValue()){const s=i.getAttribute("patternTransform");i=i.getHrefAttribute().getDefinition(),i&&s.hasValue()&&i.getAttribute("patternTransform",!0).setValue(s.value)}if(i)return i.createPattern(this.document.ctx,t,e)}return null}getTextBaseline(){if(!this.hasValue())return null;const t=this.getString();return E.textBaselineMapping[t]||null}addOpacity(t){let e=this.getColor();const i=e.length;let s=0;for(let r=0;r<i&&(e[r]===","&&s++,s!==3);r++);if(t.hasValue()&&this.isString()&&s!==3){const r=new Ye(e);r.ok&&(r.alpha=t.getNumber(),e=r.toRGBA())}return new E(this.document,this.name,e)}constructor(t,e,i){this.document=t,this.name=e,this.value=i,this.isNormalizedColor=!1}}E.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class he{clear(){this.viewPorts=[]}setCurrent(t,e){this.viewPorts.push({width:t,height:e})}removeCurrent(){this.viewPorts.pop()}getRoot(){const[t]=this.viewPorts;return t||xi()}getCurrent(){const{viewPorts:t}=this,e=t[t.length-1];return e||xi()}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(t){return typeof t=="number"?t:t==="x"?this.width:t==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}constructor(){this.viewPorts=[]}}he.DEFAULT_VIEWPORT_WIDTH=800;he.DEFAULT_VIEWPORT_HEIGHT=600;function xi(){return{width:he.DEFAULT_VIEWPORT_WIDTH,height:he.DEFAULT_VIEWPORT_HEIGHT}}class Z{static parse(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const[i=e,s=e]=gt(t);return new Z(i,s)}static parseScale(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const[i=e,s=i]=gt(t);return new Z(i,s)}static parsePath(t){const e=gt(t),i=e.length,s=[];for(let r=0;r<i;r+=2)s.push(new Z(e[r],e[r+1]));return s}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}applyTransform(t){const{x:e,y:i}=this,s=e*t[0]+i*t[2]+t[4],r=e*t[1]+i*t[3]+t[5];this.x=s,this.y=r}constructor(t,e){this.x=t,this.y=e}}class Qs{isWorking(){return this.working}start(){if(this.working)return;const{screen:t,onClick:e,onMouseMove:i}=this,s=t.ctx.canvas;s.onclick=e,s.onmousemove=i,this.working=!0}stop(){if(!this.working)return;const t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(!this.working)return;const{screen:t,events:e,eventElements:i}=this,{style:s}=t.ctx.canvas;let r;s&&(s.cursor=""),e.forEach((n,a)=>{let{run:o}=n;for(r=i[a];r;)o(r),r=r.parent}),this.events=[],this.eventElements=[]}checkPath(t,e){if(!this.working||!e)return;const{events:i,eventElements:s}=this;i.forEach((r,n)=>{let{x:a,y:o}=r;!s[n]&&e.isPointInPath&&e.isPointInPath(a,o)&&(s[n]=t)})}checkBoundingBox(t,e){if(!this.working||!e)return;const{events:i,eventElements:s}=this;i.forEach((r,n)=>{let{x:a,y:o}=r;!s[n]&&e.isPointInBox(a,o)&&(s[n]=t)})}mapXY(t,e){const{window:i,ctx:s}=this.screen,r=new Z(t,e);let n=s.canvas;for(;n;)r.x-=n.offsetLeft,r.y-=n.offsetTop,n=n.offsetParent;return i!=null&&i.scrollX&&(r.x+=i.scrollX),i!=null&&i.scrollY&&(r.y+=i.scrollY),r}onClick(t){const{x:e,y:i}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onclick",x:e,y:i,run(s){s.onClick&&s.onClick()}})}onMouseMove(t){const{x:e,y:i}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onmousemove",x:e,y:i,run(s){s.onMouseMove&&s.onMouseMove()}})}constructor(t){this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}}const Bi=typeof window<"u"?window:null,Xi=typeof fetch<"u"?fetch.bind(void 0):void 0;class kt{wait(t){this.waits.push(t)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;const t=this.waits.every(e=>e());return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t}setDefaults(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}setViewBox(t){let{document:e,ctx:i,aspectRatio:s,width:r,desiredWidth:n,height:a,desiredHeight:o,minX:h=0,minY:u=0,refX:f,refY:g,clip:c=!1,clipX:d=0,clipY:m=0}=t;const p=ne(s).replace(/^defer\s/,""),[y,v]=p.split(" "),b=y||"xMidYMid",w=v||"meet",O=r/n,P=a/o,C=Math.min(O,P),S=Math.max(O,P);let _=n,L=o;w==="meet"&&(_*=C,L*=C),w==="slice"&&(_*=S,L*=S);const H=new E(e,"refX",f),Q=new E(e,"refY",g),K=H.hasValue()&&Q.hasValue();if(K&&i.translate(-C*H.getPixels("x"),-C*Q.getPixels("y")),c){const z=C*d,R=C*m;i.beginPath(),i.moveTo(z,R),i.lineTo(r,R),i.lineTo(r,a),i.lineTo(z,a),i.closePath(),i.clip()}if(!K){const z=w==="meet"&&C===P,R=w==="slice"&&S===P,J=w==="meet"&&C===O,W=w==="slice"&&S===O;b.startsWith("xMid")&&(z||R)&&i.translate(r/2-_/2,0),b.endsWith("YMid")&&(J||W)&&i.translate(0,a/2-L/2),b.startsWith("xMax")&&(z||R)&&i.translate(r-_,0),b.endsWith("YMax")&&(J||W)&&i.translate(0,a-L)}switch(!0){case b==="none":i.scale(O,P);break;case w==="meet":i.scale(C,C);break;case w==="slice":i.scale(S,S);break}i.translate(-h,-u)}start(t){let{enableRedraw:e=!1,ignoreMouse:i=!1,ignoreAnimation:s=!1,ignoreDimensions:r=!1,ignoreClear:n=!1,forceRedraw:a,scaleWidth:o,scaleHeight:h,offsetX:u,offsetY:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{mouse:g}=this,c=1e3/kt.FRAMERATE;if(this.isReadyLock=!1,this.frameDuration=c,this.readyPromise=new Promise(v=>{this.resolveReady=v}),this.isReady()&&this.render(t,r,n,o,h,u,f),!e)return;let d=Date.now(),m=d,p=0;const y=()=>{d=Date.now(),p=d-m,p>=c&&(m=d-p%c,this.shouldUpdate(s,a)&&(this.render(t,r,n,o,h,u,f),g.runEvents())),this.intervalId=Wt(y)};i||g.start(),this.intervalId=Wt(y)}stop(){this.intervalId&&(Wt.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(t,e){if(!t){const{frameDuration:i}=this;if(this.animations.reduce((r,n)=>n.update(i)||r,!1))return!0}return!!(typeof e=="function"&&e()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(t,e,i,s,r,n,a){const{viewPort:o,ctx:h,isFirstRender:u}=this,f=h.canvas;o.clear(),f.width&&f.height&&o.setCurrent(f.width,f.height);const g=t.getStyle("width"),c=t.getStyle("height");!e&&(u||typeof s!="number"&&typeof r!="number")&&(g.hasValue()&&(f.width=g.getPixels("x"),f.style&&(f.style.width="".concat(f.width,"px"))),c.hasValue()&&(f.height=c.getPixels("y"),f.style&&(f.style.height="".concat(f.height,"px"))));let d=f.clientWidth||f.width,m=f.clientHeight||f.height;if(e&&g.hasValue()&&c.hasValue()&&(d=g.getPixels("x"),m=c.getPixels("y")),o.setCurrent(d,m),typeof n=="number"&&t.getAttribute("x",!0).setValue(n),typeof a=="number"&&t.getAttribute("y",!0).setValue(a),typeof s=="number"||typeof r=="number"){const p=gt(t.getAttribute("viewBox").getString());let y=0,v=0;if(typeof s=="number"){const w=t.getStyle("width");w.hasValue()?y=w.getPixels("x")/s:p[2]&&!isNaN(p[2])&&(y=p[2]/s)}if(typeof r=="number"){const w=t.getStyle("height");w.hasValue()?v=w.getPixels("y")/r:p[3]&&!isNaN(p[3])&&(v=p[3]/r)}y||(y=v),v||(v=y),t.getAttribute("width",!0).setValue(s),t.getAttribute("height",!0).setValue(r);const b=t.getStyle("transform",!0,!0);b.setValue("".concat(b.getString()," scale(").concat(1/y,", ").concat(1/v,")"))}i||h.clearRect(0,0,d,m),t.render(h),u&&(this.isFirstRender=!1)}constructor(t,{fetch:e=Xi,window:i=Bi}={}){if(this.ctx=t,this.viewPort=new he,this.mouse=new Qs(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=i,!e)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");this.fetch=e}}kt.defaultWindow=Bi;kt.defaultFetch=Xi;kt.FRAMERATE=30;kt.MAX_VIRTUAL_PIXELS=3e4;const{defaultFetch:Gs}=kt,Zs=typeof DOMParser<"u"?DOMParser:void 0;class Xe{async parse(t){return t.startsWith("<")?this.parseFromString(t):this.load(t)}parseFromString(t){const e=new this.DOMParser;try{return this.checkDocument(e.parseFromString(t,"image/svg+xml"))}catch{return this.checkDocument(e.parseFromString(t,"text/xml"))}}checkDocument(t){const e=t.getElementsByTagName("parsererror")[0];if(e)throw new Error(e.textContent||"Unknown parse error");return t}async load(t){const i=await(await this.fetch(t)).text();return this.parseFromString(i)}constructor({fetch:t=Gs,DOMParser:e=Zs}={}){if(!t)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");if(!e)throw new Error("Can't find 'DOMParser' in 'globalThis', please provide it via options");this.fetch=t,this.DOMParser=e}}class js{apply(t){const{x:e,y:i}=this.point;t.translate(e||0,i||0)}unapply(t){const{x:e,y:i}=this.point;t.translate(-1*e||0,-1*i||0)}applyToPoint(t){const{x:e,y:i}=this.point;t.applyTransform([1,0,0,1,e||0,i||0])}constructor(t,e){this.type="translate",this.point=Z.parse(e)}}class $s{apply(t){const{cx:e,cy:i,originX:s,originY:r,angle:n}=this,a=e+s.getPixels("x"),o=i+r.getPixels("y");t.translate(a,o),t.rotate(n.getRadians()),t.translate(-a,-o)}unapply(t){const{cx:e,cy:i,originX:s,originY:r,angle:n}=this,a=e+s.getPixels("x"),o=i+r.getPixels("y");t.translate(a,o),t.rotate(-1*n.getRadians()),t.translate(-a,-o)}applyToPoint(t){const{cx:e,cy:i,angle:s}=this,r=s.getRadians();t.applyTransform([1,0,0,1,e||0,i||0]),t.applyTransform([Math.cos(r),Math.sin(r),-Math.sin(r),Math.cos(r),0,0]),t.applyTransform([1,0,0,1,-e||0,-i||0])}constructor(t,e,i){this.type="rotate";const s=gt(e);this.angle=new E(t,"angle",s[0]),this.originX=i[0],this.originY=i[1],this.cx=s[1]||0,this.cy=s[2]||0}}class Ks{apply(t){const{scale:{x:e,y:i},originX:s,originY:r}=this,n=s.getPixels("x"),a=r.getPixels("y");t.translate(n,a),t.scale(e,i||e),t.translate(-n,-a)}unapply(t){const{scale:{x:e,y:i},originX:s,originY:r}=this,n=s.getPixels("x"),a=r.getPixels("y");t.translate(n,a),t.scale(1/e,1/i||e),t.translate(-n,-a)}applyToPoint(t){const{x:e,y:i}=this.scale;t.applyTransform([e||0,0,0,i||0,0,0])}constructor(t,e,i){this.type="scale";const s=Z.parseScale(e);(s.x===0||s.y===0)&&(s.x=ee,s.y=ee),this.scale=s,this.originX=i[0],this.originY=i[1]}}class zi{apply(t){const{originX:e,originY:i,matrix:s}=this,r=e.getPixels("x"),n=i.getPixels("y");t.translate(r,n),t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),t.translate(-r,-n)}unapply(t){const{originX:e,originY:i,matrix:s}=this,r=s[0],n=s[2],a=s[4],o=s[1],h=s[3],u=s[5],f=0,g=0,c=1,d=1/(r*(h*c-u*g)-n*(o*c-u*f)+a*(o*g-h*f)),m=e.getPixels("x"),p=i.getPixels("y");t.translate(m,p),t.transform(d*(h*c-u*g),d*(u*f-o*c),d*(a*g-n*c),d*(r*c-a*f),d*(n*u-a*h),d*(a*o-r*u)),t.translate(-m,-p)}applyToPoint(t){t.applyTransform(this.matrix)}constructor(t,e,i){this.type="matrix",this.matrix=Is(e),this.originX=i[0],this.originY=i[1]}}class Fi extends zi{constructor(t,e,i){super(t,e,i),this.type="skew",this.angle=new E(t,"angle",e)}}class Js extends Fi{constructor(t,e,i){super(t,e,i),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class tr extends Fi{constructor(t,e,i){super(t,e,i),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function er(l){return ne(l).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function ir(l){const[t="",e=""]=l.split("(");return[t.trim(),e.trim().replace(")","")]}class qt{static fromElement(t,e){const i=e.getStyle("transform",!1,!0);if(i.hasValue()){const[s,r=s]=e.getStyle("transform-origin",!1,!0).split();if(s&&r){const n=[s,r];return new qt(t,i.getString(),n)}}return null}apply(t){this.transforms.forEach(e=>e.apply(t))}unapply(t){this.transforms.forEach(e=>e.unapply(t))}applyToPoint(t){this.transforms.forEach(e=>e.applyToPoint(t))}constructor(t,e,i){this.document=t,this.transforms=[],er(e).forEach(r=>{if(r==="none")return;const[n,a]=ir(r),o=qt.transformTypes[n];o&&this.transforms.push(new o(this.document,a,i))})}}qt.transformTypes={translate:js,rotate:$s,scale:Ks,matrix:zi,skewX:Js,skewY:tr};class q{getAttribute(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.attributes[t];if(!i&&e){const s=new E(this.document,t,"");return this.attributes[t]=s,s}return i||E.empty(this.document)}getHrefAttribute(){let t;for(const e in this.attributes)if(e==="href"||e.endsWith(":href")){t=this.attributes[e];break}return t||E.empty(this.document)}getStyle(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.styles[t];if(s)return s;const r=this.getAttribute(t);if(r.hasValue())return this.styles[t]=r,r;if(!i){const{parent:n}=this;if(n){const a=n.getStyle(t);if(a.hasValue())return a}}if(e){const n=new E(this.document,t,"");return this.styles[t]=n,n}return E.empty(this.document)}render(t){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(t.save(),this.getStyle("mask").hasValue()){const e=this.getStyle("mask").getDefinition();e&&(this.applyEffects(t),e.apply(t,this))}else if(this.getStyle("filter").getValue("none")!=="none"){const e=this.getStyle("filter").getDefinition();e&&(this.applyEffects(t),e.apply(t,this))}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}}setContext(t){}applyEffects(t){const e=qt.fromElement(this.document,this);e&&e.apply(t);const i=this.getStyle("clip-path",!1,!0);if(i.hasValue()){const s=i.getDefinition();s&&s.apply(t)}}clearContext(t){}renderChildren(t){this.children.forEach(e=>{e.render(t)})}addChild(t){const e=t instanceof q?t:this.document.createElement(t);e.parent=this,q.ignoreChildTypes.includes(e.type)||this.children.push(e)}matchesSelector(t){var e;const{node:i}=this;if(typeof i.matches=="function")return i.matches(t);const s=(e=i.getAttribute)===null||e===void 0?void 0:e.call(i,"class");return!s||s===""?!1:s.split(" ").some(r=>".".concat(r)===t)}addStylesFromStyleDefinition(){const{styles:t,stylesSpecificity:e}=this.document;let i;for(const s in t)if(!s.startsWith("@")&&this.matchesSelector(s)){const r=t[s],n=e[s];if(r)for(const a in r){let o=this.stylesSpecificity[a];typeof o>"u"&&(o="000"),n&&n>=o&&(i=r[a],i&&(this.styles[a]=i),this.stylesSpecificity[a]=n)}}}removeStyles(t,e){return e.reduce((s,r)=>{const n=t.getStyle(r);if(!n.hasValue())return s;const a=n.getString();return n.setValue(""),[...s,[r,a]]},[])}restoreStyles(t,e){e.forEach(i=>{let[s,r]=i;t.getStyle(s,!0).setValue(r)})}isFirstChild(){var t;return((t=this.parent)===null||t===void 0?void 0:t.children.indexOf(this))===0}constructor(t,e,i=!1){if(this.document=t,this.node=e,this.captureTextNodes=i,this.type="",this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!e||e.nodeType!==1)return;Array.from(e.attributes).forEach(n=>{const a=Ds(n.nodeName);this.attributes[a]=new E(t,a,n.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(a=>a.trim()).forEach(a=>{if(!a)return;const[o,h]=a.split(":").map(u=>u.trim());o&&(this.styles[o]=new E(t,o,h))});const{definitions:s}=t,r=this.getAttribute("id");r.hasValue()&&(s[r.getString()]||(s[r.getString()]=this)),Array.from(e.childNodes).forEach(n=>{if(n.nodeType===1)this.addChild(n);else if(i&&(n.nodeType===3||n.nodeType===4)){const a=t.createTextNode(n);a.getText().length>0&&this.addChild(a)}})}}q.ignoreChildTypes=["title"];class sr extends q{constructor(t,e,i){super(t,e,i)}}function rr(l){const t=l.trim();return/^('|")/.test(t)?t:'"'.concat(t,'"')}function nr(l){return typeof process>"u"?l:l.trim().split(",").map(rr).join(",")}function ar(l){if(!l)return"";const t=l.trim().toLowerCase();switch(t){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return t;default:return/^oblique\s+(-|)\d+deg$/.test(t)?t:""}}function or(l){if(!l)return"";const t=l.trim().toLowerCase();switch(t){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return t;default:return/^[\d.]+$/.test(t)?t:""}}class at{static parse(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,i="",s="",r="",n="",a="";const o=ne(t).trim().split(" "),h={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return o.forEach(u=>{switch(!0){case(!h.fontStyle&&at.styles.includes(u)):u!=="inherit"&&(i=u),h.fontStyle=!0;break;case(!h.fontVariant&&at.variants.includes(u)):u!=="inherit"&&(s=u),h.fontStyle=!0,h.fontVariant=!0;break;case(!h.fontWeight&&at.weights.includes(u)):u!=="inherit"&&(r=u),h.fontStyle=!0,h.fontVariant=!0,h.fontWeight=!0;break;case!h.fontSize:u!=="inherit"&&(n=u.split("/")[0]||""),h.fontStyle=!0,h.fontVariant=!0,h.fontWeight=!0,h.fontSize=!0;break;default:u!=="inherit"&&(a+=u)}}),new at(i,s,r,n,a,e)}toString(){return[ar(this.fontStyle),this.fontVariant,or(this.fontWeight),this.fontSize,nr(this.fontFamily)].join(" ").trim()}constructor(t,e,i,s,r,n){const a=n?typeof n=="string"?at.parse(n):n:{};this.fontFamily=r||a.fontFamily,this.fontSize=s||a.fontSize,this.fontStyle=t||a.fontStyle,this.fontWeight=i||a.fontWeight,this.fontVariant=e||a.fontVariant}}at.styles="normal|italic|oblique|inherit";at.variants="normal|small-caps|inherit";at.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class St{get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(t,e){typeof t<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}addX(t){this.addPoint(t,0)}addY(t){this.addPoint(0,t)}addBoundingBox(t){if(!t)return;const{x1:e,y1:i,x2:s,y2:r}=t;this.addPoint(e,i),this.addPoint(s,r)}sumCubic(t,e,i,s,r){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*i+3*(1-t)*Math.pow(t,2)*s+Math.pow(t,3)*r}bezierCurveAdd(t,e,i,s,r){const n=6*e-12*i+6*s,a=-3*e+9*i-9*s+3*r,o=3*i-3*e;if(a===0){if(n===0)return;const g=-o/n;0<g&&g<1&&(t?this.addX(this.sumCubic(g,e,i,s,r)):this.addY(this.sumCubic(g,e,i,s,r)));return}const h=Math.pow(n,2)-4*o*a;if(h<0)return;const u=(-n+Math.sqrt(h))/(2*a);0<u&&u<1&&(t?this.addX(this.sumCubic(u,e,i,s,r)):this.addY(this.sumCubic(u,e,i,s,r)));const f=(-n-Math.sqrt(h))/(2*a);0<f&&f<1&&(t?this.addX(this.sumCubic(f,e,i,s,r)):this.addY(this.sumCubic(f,e,i,s,r)))}addBezierCurve(t,e,i,s,r,n,a,o){this.addPoint(t,e),this.addPoint(a,o),this.bezierCurveAdd(!0,t,i,r,a),this.bezierCurveAdd(!1,e,s,n,o)}addQuadraticCurve(t,e,i,s,r,n){const a=t+.6666666666666666*(i-t),o=e+2/3*(s-e),h=a+1/3*(r-t),u=o+1/3*(n-e);this.addBezierCurve(t,e,a,h,o,u,r,n)}isPointInBox(t,e){const{x1:i,y1:s,x2:r,y2:n}=this;return i<=t&&t<=r&&s<=e&&e<=n}constructor(t=Number.NaN,e=Number.NaN,i=Number.NaN,s=Number.NaN){this.x1=t,this.y1=e,this.x2=i,this.y2=s,this.addPoint(t,e),this.addPoint(i,s)}}class Gt extends q{calculateOpacity(){let t=1,e=this;for(;e;){const i=e.getStyle("opacity",!1,!0);i.hasValue(!0)&&(t*=i.getNumber()),e=e.parent}return t}setContext(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e){const i=this.getStyle("fill"),s=this.getStyle("fill-opacity"),r=this.getStyle("stroke"),n=this.getStyle("stroke-opacity");if(i.isUrlDefinition()){const c=i.getFillStyleDefinition(this,s);c&&(t.fillStyle=c)}else if(i.hasValue()){i.getString()==="currentColor"&&i.setValue(this.getStyle("color").getColor());const c=i.getColor();c!=="inherit"&&(t.fillStyle=c==="none"?"rgba(0,0,0,0)":c)}if(s.hasValue()){const c=new E(this.document,"fill",t.fillStyle).addOpacity(s).getColor();t.fillStyle=c}if(r.isUrlDefinition()){const c=r.getFillStyleDefinition(this,n);c&&(t.strokeStyle=c)}else if(r.hasValue()){r.getString()==="currentColor"&&r.setValue(this.getStyle("color").getColor());const c=r.getString();c!=="inherit"&&(t.strokeStyle=c==="none"?"rgba(0,0,0,0)":c)}if(n.hasValue()){const c=new E(this.document,"stroke",t.strokeStyle).addOpacity(n).getString();t.strokeStyle=c}const a=this.getStyle("stroke-width");if(a.hasValue()){const c=a.getPixels();t.lineWidth=c||ee}const o=this.getStyle("stroke-linecap"),h=this.getStyle("stroke-linejoin"),u=this.getStyle("stroke-miterlimit"),f=this.getStyle("stroke-dasharray"),g=this.getStyle("stroke-dashoffset");if(o.hasValue()&&(t.lineCap=o.getString()),h.hasValue()&&(t.lineJoin=h.getString()),u.hasValue()&&(t.miterLimit=u.getNumber()),f.hasValue()&&f.getString()!=="none"){const c=gt(f.getString());typeof t.setLineDash<"u"?t.setLineDash(c):typeof t.webkitLineDash<"u"?t.webkitLineDash=c:typeof t.mozDash<"u"&&!(c.length===1&&c[0]===0)&&(t.mozDash=c);const d=g.getPixels();typeof t.lineDashOffset<"u"?t.lineDashOffset=d:typeof t.webkitLineDashOffset<"u"?t.webkitLineDashOffset=d:typeof t.mozDashOffset<"u"&&(t.mozDashOffset=d)}}if(this.modifiedEmSizeStack=!1,typeof t.font<"u"){const i=this.getStyle("font"),s=this.getStyle("font-style"),r=this.getStyle("font-variant"),n=this.getStyle("font-weight"),a=this.getStyle("font-size"),o=this.getStyle("font-family"),h=new at(s.getString(),r.getString(),n.getString(),a.hasValue()?"".concat(a.getPixels(!0),"px"):"",o.getString(),at.parse(i.getString(),t.font));s.setValue(h.fontStyle),r.setValue(h.fontVariant),n.setValue(h.fontWeight),a.setValue(h.fontSize),o.setValue(h.fontFamily),t.font=h.toString(),a.isPixels()&&(this.document.emSize=a.getPixels(),this.modifiedEmSizeStack=!0)}e||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}clearContext(t){super.clearContext(t),this.modifiedEmSizeStack&&this.document.popEmSize()}constructor(...t){super(...t),this.modifiedEmSizeStack=!1}}class Bt extends Gt{setContext(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(t,e);const i=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();i&&(t.textBaseline=i)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(t){if(this.type!=="text")return this.getTElementBoundingBox(t);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t);let e=null;return this.children.forEach((i,s)=>{const r=this.getChildBoundingBox(t,this,this,s);e?e.addBoundingBox(r):e=r}),e}getFontSize(){const{document:t,parent:e}=this,i=at.parse(t.ctx.font).fontSize;return e.getStyle("font-size").getNumber(i)}getTElementBoundingBox(t){const e=this.getFontSize();return new St(this.x,this.y-e,this.x+this.measureText(t),this.y)}getGlyph(t,e,i){const s=e[i];let r;if(t.isArabic){var n;const a=e.length,o=e[i-1],h=e[i+1];let u="isolated";(i===0||o===" ")&&i<a-1&&h!==" "&&(u="terminal"),i>0&&o!==" "&&i<a-1&&h!==" "&&(u="medial"),i>0&&o!==" "&&(i===a-1||h===" ")&&(u="initial"),r=((n=t.arabicGlyphs[s])===null||n===void 0?void 0:n[u])||t.glyphs[s]}else r=t.glyphs[s];return r||(r=t.missingGlyph),r}getText(){return""}getTextFromNode(t){const e=t||this.node,i=Array.from(e.parentNode.childNodes),s=i.indexOf(e),r=i.length-1;let n=ne(e.textContent||"");return s===0&&(n=_s(n)),s===r&&(n=Rs(n)),n}renderChildren(t){if(this.type!=="text"){this.renderTElementChildren(t);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t),this.children.forEach((i,s)=>{this.renderChild(t,this,this,s)});const{mouse:e}=this.document.screen;e.isWorking()&&e.checkBoundingBox(this,this.getBoundingBox(t))}renderTElementChildren(t){const{document:e,parent:i}=this,s=this.getText(),r=i.getStyle("font-family").getDefinition();if(r){const{unitsPerEm:o}=r.fontFace,h=at.parse(e.ctx.font),u=i.getStyle("font-size").getNumber(h.fontSize),f=i.getStyle("font-style").getString(h.fontStyle),g=u/o,c=r.isRTL?s.split("").reverse().join(""):s,d=gt(i.getAttribute("dx").getString()),m=c.length;for(let p=0;p<m;p++){const y=this.getGlyph(r,c,p);t.translate(this.x,this.y),t.scale(g,-g);const v=t.lineWidth;t.lineWidth=t.lineWidth*o/u,f==="italic"&&t.transform(1,0,.4,1,0,0),y.render(t),f==="italic"&&t.transform(1,0,-.4,1,0,0),t.lineWidth=v,t.scale(1/g,-1/g),t.translate(-this.x,-this.y),this.x+=u*(y.horizAdvX||r.horizAdvX)/o,typeof d[p]<"u"&&!isNaN(d[p])&&(this.x+=d[p])}return}const{x:n,y:a}=this;t.fillStyle&&t.fillText(s,n,a),t.strokeStyle&&t.strokeText(s,n,a)}applyAnchoring(){if(this.textChunkStart>=this.leafTexts.length)return;const t=this.leafTexts[this.textChunkStart],e=t.getStyle("text-anchor").getString("start"),i=!1;let s=0;e==="start"&&!i||e==="end"&&i?s=t.x-this.minX:e==="end"&&!i||e==="start"&&i?s=t.x-this.maxX:s=t.x-(this.minX+this.maxX)/2;for(let r=this.textChunkStart;r<this.leafTexts.length;r++)this.leafTexts[r].x+=s;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}adjustChildCoordinatesRecursive(t){this.children.forEach((e,i)=>{this.adjustChildCoordinatesRecursiveCore(t,this,this,i)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(t,e,i,s){const r=i.children[s];r.children.length>0?r.children.forEach((n,a)=>{e.adjustChildCoordinatesRecursiveCore(t,e,r,a)}):this.adjustChildCoordinates(t,e,i,s)}adjustChildCoordinates(t,e,i,s){const r=i.children[s];if(typeof r.measureText!="function")return r;t.save(),r.setContext(t,!0);const n=r.getAttribute("x"),a=r.getAttribute("y"),o=r.getAttribute("dx"),h=r.getAttribute("dy"),u=r.getStyle("font-family").getDefinition(),f=Boolean(u==null?void 0:u.isRTL);s===0&&(n.hasValue()||n.setValue(r.getInheritedAttribute("x")),a.hasValue()||a.setValue(r.getInheritedAttribute("y")),o.hasValue()||o.setValue(r.getInheritedAttribute("dx")),h.hasValue()||h.setValue(r.getInheritedAttribute("dy")));const g=r.measureText(t);return f&&(e.x-=g),n.hasValue()?(e.applyAnchoring(),r.x=n.getPixels("x"),o.hasValue()&&(r.x+=o.getPixels("x"))):(o.hasValue()&&(e.x+=o.getPixels("x")),r.x=e.x),e.x=r.x,f||(e.x+=g),a.hasValue()?(r.y=a.getPixels("y"),h.hasValue()&&(r.y+=h.getPixels("y"))):(h.hasValue()&&(e.y+=h.getPixels("y")),r.y=e.y),e.y=r.y,e.leafTexts.push(r),e.minX=Math.min(e.minX,r.x,r.x+g),e.maxX=Math.max(e.maxX,r.x,r.x+g),r.clearContext(t),t.restore(),r}getChildBoundingBox(t,e,i,s){const r=i.children[s];if(typeof r.getBoundingBox!="function")return null;const n=r.getBoundingBox(t);return n&&r.children.forEach((a,o)=>{const h=e.getChildBoundingBox(t,e,r,o);n.addBoundingBox(h)}),n}renderChild(t,e,i,s){const r=i.children[s];r.render(t),r.children.forEach((n,a)=>{e.renderChild(t,e,r,a)})}measureText(t){const{measureCache:e}=this;if(~e)return e;const i=this.getText(),s=this.measureTargetText(t,i);return this.measureCache=s,s}measureTargetText(t,e){if(!e.length)return 0;const{parent:i}=this,s=i.getStyle("font-family").getDefinition();if(s){const n=this.getFontSize(),a=s.isRTL?e.split("").reverse().join(""):e,o=gt(i.getAttribute("dx").getString()),h=a.length;let u=0;for(let f=0;f<h;f++){const g=this.getGlyph(s,a,f);u+=(g.horizAdvX||s.horizAdvX)*n/s.fontFace.unitsPerEm,typeof o[f]<"u"&&!isNaN(o[f])&&(u+=o[f])}return u}if(!t.measureText)return e.length*10;t.save(),this.setContext(t,!0);const{width:r}=t.measureText(e);return this.clearContext(t),t.restore(),r}getInheritedAttribute(t){let e=this;for(;e instanceof Bt&&e.isFirstChild()&&e.parent;){const i=e.parent.getAttribute(t);if(i.hasValue(!0))return i.getString("0");e=e.parent}return null}constructor(t,e,i){super(t,e,new.target===Bt?!0:i),this.type="text",this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.measureCache=-1}}class Ce extends Bt{getText(){return this.text}constructor(t,e,i){super(t,e,new.target===Ce?!0:i),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}}class lr extends Ce{constructor(...t){super(...t),this.type="textNode"}}class N extends x{reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Z(0,0),this.control=new Z(0,0),this.current=new Z(0,0),this.points=[],this.angles=[]}isEnd(){const{i:t,commands:e}=this;return t>=e.length-1}next(){const t=this.commands[++this.i];return this.previousCommand=this.command,this.command=t,t}getPoint(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y";const i=new Z(this.command[t],this.command[e]);return this.makeAbsolute(i)}getAsControlPoint(t,e){const i=this.getPoint(t,e);return this.control=i,i}getAsCurrentPoint(t,e){const i=this.getPoint(t,e);return this.current=i,i}getReflectedControlPoint(){const t=this.previousCommand.type;if(t!==x.CURVE_TO&&t!==x.SMOOTH_CURVE_TO&&t!==x.QUAD_TO&&t!==x.SMOOTH_QUAD_TO)return this.current;const{current:{x:e,y:i},control:{x:s,y:r}}=this;return new Z(2*e-s,2*i-r)}makeAbsolute(t){if(this.command.relative){const{x:e,y:i}=this.current;t.x+=e,t.y+=i}return t}addMarker(t,e,i){const{points:s,angles:r}=this;i&&r.length>0&&!r[r.length-1]&&(r[r.length-1]=s[s.length-1].angleTo(i)),this.addMarkerAngle(t,e?e.angleTo(t):null)}addMarkerAngle(t,e){this.points.push(t),this.angles.push(e)}getMarkerPoints(){return this.points}getMarkerAngles(){const{angles:t}=this,e=t.length;for(let i=0;i<e;i++)if(!t[i]){for(let s=i+1;s<e;s++)if(t[s]){t[i]=t[s];break}}return t}constructor(t){super(t.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=new Z(0,0),this.start=new Z(0,0),this.current=new Z(0,0),this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}}class X extends Gt{path(t){const{pathParser:e}=this,i=new St;for(e.reset(),t&&t.beginPath();!e.isEnd();)switch(e.next().type){case N.MOVE_TO:this.pathM(t,i);break;case N.LINE_TO:this.pathL(t,i);break;case N.HORIZ_LINE_TO:this.pathH(t,i);break;case N.VERT_LINE_TO:this.pathV(t,i);break;case N.CURVE_TO:this.pathC(t,i);break;case N.SMOOTH_CURVE_TO:this.pathS(t,i);break;case N.QUAD_TO:this.pathQ(t,i);break;case N.SMOOTH_QUAD_TO:this.pathT(t,i);break;case N.ARC:this.pathA(t,i);break;case N.CLOSE_PATH:this.pathZ(t,i);break}return i}getBoundingBox(t){return this.path()}getMarkers(){const{pathParser:t}=this,e=t.getMarkerPoints(),i=t.getMarkerAngles();return e.map((r,n)=>[r,i[n]])}renderChildren(t){this.path(t),this.document.screen.mouse.checkPath(this,t);const e=this.getStyle("fill-rule");t.fillStyle!==""&&(e.getString("inherit")!=="inherit"?t.fill(e.getString()):t.fill()),t.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(t.save(),t.setTransform(1,0,0,1,0,0),t.stroke(),t.restore()):t.stroke());const i=this.getMarkers();if(i){const s=i.length-1,r=this.getStyle("marker-start"),n=this.getStyle("marker-mid"),a=this.getStyle("marker-end");if(r.isUrlDefinition()){const o=r.getDefinition(),[h,u]=i[0];o.render(t,h,u)}if(n.isUrlDefinition()){const o=n.getDefinition();for(let h=1;h<s;h++){const[u,f]=i[h];o.render(t,u,f)}}if(a.isUrlDefinition()){const o=a.getDefinition(),[h,u]=i[s];o.render(t,h,u)}}}static pathM(t){const e=t.getAsCurrentPoint();return t.start=t.current,{point:e}}pathM(t,e){const{pathParser:i}=this,{point:s}=X.pathM(i),{x:r,y:n}=s;i.addMarker(s),e.addPoint(r,n),t&&t.moveTo(r,n)}static pathL(t){const{current:e}=t,i=t.getAsCurrentPoint();return{current:e,point:i}}pathL(t,e){const{pathParser:i}=this,{current:s,point:r}=X.pathL(i),{x:n,y:a}=r;i.addMarker(r,s),e.addPoint(n,a),t&&t.lineTo(n,a)}static pathH(t){const{current:e,command:i}=t,s=new Z((i.relative?e.x:0)+i.x,e.y);return t.current=s,{current:e,point:s}}pathH(t,e){const{pathParser:i}=this,{current:s,point:r}=X.pathH(i),{x:n,y:a}=r;i.addMarker(r,s),e.addPoint(n,a),t&&t.lineTo(n,a)}static pathV(t){const{current:e,command:i}=t,s=new Z(e.x,(i.relative?e.y:0)+i.y);return t.current=s,{current:e,point:s}}pathV(t,e){const{pathParser:i}=this,{current:s,point:r}=X.pathV(i),{x:n,y:a}=r;i.addMarker(r,s),e.addPoint(n,a),t&&t.lineTo(n,a)}static pathC(t){const{current:e}=t,i=t.getPoint("x1","y1"),s=t.getAsControlPoint("x2","y2"),r=t.getAsCurrentPoint();return{current:e,point:i,controlPoint:s,currentPoint:r}}pathC(t,e){const{pathParser:i}=this,{current:s,point:r,controlPoint:n,currentPoint:a}=X.pathC(i);i.addMarker(a,n,r),e.addBezierCurve(s.x,s.y,r.x,r.y,n.x,n.y,a.x,a.y),t&&t.bezierCurveTo(r.x,r.y,n.x,n.y,a.x,a.y)}static pathS(t){const{current:e}=t,i=t.getReflectedControlPoint(),s=t.getAsControlPoint("x2","y2"),r=t.getAsCurrentPoint();return{current:e,point:i,controlPoint:s,currentPoint:r}}pathS(t,e){const{pathParser:i}=this,{current:s,point:r,controlPoint:n,currentPoint:a}=X.pathS(i);i.addMarker(a,n,r),e.addBezierCurve(s.x,s.y,r.x,r.y,n.x,n.y,a.x,a.y),t&&t.bezierCurveTo(r.x,r.y,n.x,n.y,a.x,a.y)}static pathQ(t){const{current:e}=t,i=t.getAsControlPoint("x1","y1"),s=t.getAsCurrentPoint();return{current:e,controlPoint:i,currentPoint:s}}pathQ(t,e){const{pathParser:i}=this,{current:s,controlPoint:r,currentPoint:n}=X.pathQ(i);i.addMarker(n,r,r),e.addQuadraticCurve(s.x,s.y,r.x,r.y,n.x,n.y),t&&t.quadraticCurveTo(r.x,r.y,n.x,n.y)}static pathT(t){const{current:e}=t,i=t.getReflectedControlPoint();t.control=i;const s=t.getAsCurrentPoint();return{current:e,controlPoint:i,currentPoint:s}}pathT(t,e){const{pathParser:i}=this,{current:s,controlPoint:r,currentPoint:n}=X.pathT(i);i.addMarker(n,r,r),e.addQuadraticCurve(s.x,s.y,r.x,r.y,n.x,n.y),t&&t.quadraticCurveTo(r.x,r.y,n.x,n.y)}static pathA(t){const{current:e,command:i}=t;let{rX:s,rY:r,xRot:n,lArcFlag:a,sweepFlag:o}=i;const h=n*(Math.PI/180),u=t.getAsCurrentPoint(),f=new Z(Math.cos(h)*(e.x-u.x)/2+Math.sin(h)*(e.y-u.y)/2,-Math.sin(h)*(e.x-u.x)/2+Math.cos(h)*(e.y-u.y)/2),g=Math.pow(f.x,2)/Math.pow(s,2)+Math.pow(f.y,2)/Math.pow(r,2);g>1&&(s*=Math.sqrt(g),r*=Math.sqrt(g));let c=(a===o?-1:1)*Math.sqrt((Math.pow(s,2)*Math.pow(r,2)-Math.pow(s,2)*Math.pow(f.y,2)-Math.pow(r,2)*Math.pow(f.x,2))/(Math.pow(s,2)*Math.pow(f.y,2)+Math.pow(r,2)*Math.pow(f.x,2)));isNaN(c)&&(c=0);const d=new Z(c*s*f.y/r,c*-r*f.x/s),m=new Z((e.x+u.x)/2+Math.cos(h)*d.x-Math.sin(h)*d.y,(e.y+u.y)/2+Math.sin(h)*d.x+Math.cos(h)*d.y),p=fi([1,0],[(f.x-d.x)/s,(f.y-d.y)/r]),y=[(f.x-d.x)/s,(f.y-d.y)/r],v=[(-f.x-d.x)/s,(-f.y-d.y)/r];let b=fi(y,v);return He(y,v)<=-1&&(b=Math.PI),He(y,v)>=1&&(b=0),{currentPoint:u,rX:s,rY:r,sweepFlag:o,xAxisRotation:h,centp:m,a1:p,ad:b}}pathA(t,e){const{pathParser:i}=this,{currentPoint:s,rX:r,rY:n,sweepFlag:a,xAxisRotation:o,centp:h,a1:u,ad:f}=X.pathA(i),g=1-a?1:-1,c=u+g*(f/2),d=new Z(h.x+r*Math.cos(c),h.y+n*Math.sin(c));if(i.addMarkerAngle(d,c-g*Math.PI/2),i.addMarkerAngle(s,c-g*Math.PI),e.addPoint(s.x,s.y),t&&!isNaN(u)&&!isNaN(f)){const m=r>n?r:n,p=r>n?1:r/n,y=r>n?n/r:1;t.translate(h.x,h.y),t.rotate(o),t.scale(p,y),t.arc(0,0,m,u,u+f,Boolean(1-a)),t.scale(1/p,1/y),t.rotate(-o),t.translate(-h.x,-h.y)}}static pathZ(t){t.current=t.start}pathZ(t,e){X.pathZ(this.pathParser),t&&e.x1!==e.x2&&e.y1!==e.y2&&t.closePath()}constructor(t,e,i){super(t,e,i),this.type="path",this.pathParser=new N(this.getAttribute("d").getString())}}class ue extends Gt{setContext(t){var e;const{document:i}=this,{screen:s,window:r}=i,n=t.canvas;if(s.setDefaults(t),"style"in n&&typeof t.font<"u"&&r&&typeof r.getComputedStyle<"u"){t.font=r.getComputedStyle(n).getPropertyValue("font");const v=new E(i,"fontSize",at.parse(t.font).fontSize);v.hasValue()&&(i.rootEmSize=v.getPixels("y"),i.emSize=i.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);let{width:a,height:o}=s.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");const h=this.getAttribute("refX"),u=this.getAttribute("refY"),f=this.getAttribute("viewBox"),g=f.hasValue()?gt(f.getString()):null,c=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible";let d=0,m=0,p=0,y=0;g&&(d=g[0],m=g[1]),this.root||(a=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y"),this.type==="marker"&&(p=d,y=m,d=0,m=0)),s.viewPort.setCurrent(a,o),this.node&&(!this.parent||((e=this.node.parentNode)===null||e===void 0?void 0:e.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(t),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),g&&(a=g[2],o=g[3]),i.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:s.viewPort.width,desiredWidth:a,height:s.viewPort.height,desiredHeight:o,minX:d,minY:m,refX:h.getValue(),refY:u.getValue(),clip:c,clipX:p,clipY:y}),g&&(s.viewPort.removeCurrent(),s.viewPort.setCurrent(a,o))}clearContext(t){super.clearContext(t),this.document.screen.viewPort.removeCurrent()}resize(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getAttribute("width",!0),r=this.getAttribute("height",!0),n=this.getAttribute("viewBox"),a=this.getAttribute("style"),o=s.getNumber(0),h=r.getNumber(0);if(i)if(typeof i=="string")this.getAttribute("preserveAspectRatio",!0).setValue(i);else{const u=this.getAttribute("preserveAspectRatio");u.hasValue()&&u.setValue(u.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(s.setValue(t),r.setValue(e),n.hasValue()||n.setValue("0 0 ".concat(o||t," ").concat(h||e)),a.hasValue()){const u=this.getStyle("width"),f=this.getStyle("height");u.hasValue()&&u.setValue("".concat(t,"px")),f.hasValue()&&f.setValue("".concat(e,"px"))}}constructor(...t){super(...t),this.type="svg",this.root=!1}}class Yi extends X{path(t){const e=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),s=this.getStyle("width",!1,!0).getPixels("x"),r=this.getStyle("height",!1,!0).getPixels("y"),n=this.getAttribute("rx"),a=this.getAttribute("ry");let o=n.getPixels("x"),h=a.getPixels("y");if(n.hasValue()&&!a.hasValue()&&(h=o),a.hasValue()&&!n.hasValue()&&(o=h),o=Math.min(o,s/2),h=Math.min(h,r/2),t){const u=4*((Math.sqrt(2)-1)/3);t.beginPath(),r>0&&s>0&&(t.moveTo(e+o,i),t.lineTo(e+s-o,i),t.bezierCurveTo(e+s-o+u*o,i,e+s,i+h-u*h,e+s,i+h),t.lineTo(e+s,i+r-h),t.bezierCurveTo(e+s,i+r-h+u*h,e+s-o+u*o,i+r,e+s-o,i+r),t.lineTo(e+o,i+r),t.bezierCurveTo(e+o-u*o,i+r,e,i+r-h+u*h,e,i+r-h),t.lineTo(e,i+h),t.bezierCurveTo(e,i+h-u*h,e+o-u*o,i,e+o,i),t.closePath())}return new St(e,i,e+s,i+r)}getMarkers(){return null}constructor(...t){super(...t),this.type="rect"}}class hr extends X{path(t){const e=this.getAttribute("cx").getPixels("x"),i=this.getAttribute("cy").getPixels("y"),s=this.getAttribute("r").getPixels();return t&&s>0&&(t.beginPath(),t.arc(e,i,s,0,Math.PI*2,!1),t.closePath()),new St(e-s,i-s,e+s,i+s)}getMarkers(){return null}constructor(...t){super(...t),this.type="circle"}}class ur extends X{path(t){const e=4*((Math.sqrt(2)-1)/3),i=this.getAttribute("rx").getPixels("x"),s=this.getAttribute("ry").getPixels("y"),r=this.getAttribute("cx").getPixels("x"),n=this.getAttribute("cy").getPixels("y");return t&&i>0&&s>0&&(t.beginPath(),t.moveTo(r+i,n),t.bezierCurveTo(r+i,n+e*s,r+e*i,n+s,r,n+s),t.bezierCurveTo(r-e*i,n+s,r-i,n+e*s,r-i,n),t.bezierCurveTo(r-i,n-e*s,r-e*i,n-s,r,n-s),t.bezierCurveTo(r+e*i,n-s,r+i,n-e*s,r+i,n),t.closePath()),new St(r-i,n-s,r+i,n+s)}getMarkers(){return null}constructor(...t){super(...t),this.type="ellipse"}}class cr extends X{getPoints(){return[new Z(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Z(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(t){const[{x:e,y:i},{x:s,y:r}]=this.getPoints();return t&&(t.beginPath(),t.moveTo(e,i),t.lineTo(s,r)),new St(e,i,s,r)}getMarkers(){const[t,e]=this.getPoints(),i=t.angleTo(e);return[[t,i],[e,i]]}constructor(...t){super(...t),this.type="line"}}class Ui extends X{path(t){const{points:e}=this,[{x:i,y:s}]=e,r=new St(i,s);return t&&(t.beginPath(),t.moveTo(i,s)),e.forEach(n=>{let{x:a,y:o}=n;r.addPoint(a,o),t&&t.lineTo(a,o)}),r}getMarkers(){const{points:t}=this,e=t.length-1,i=[];return t.forEach((s,r)=>{r!==e&&i.push([s,s.angleTo(t[r+1])])}),i.length>0&&i.push([t[t.length-1],i[i.length-1][1]]),i}constructor(t,e,i){super(t,e,i),this.type="polyline",this.points=[],this.points=Z.parsePath(this.getAttribute("points").getString())}}class fr extends Ui{path(t){const e=super.path(t),[{x:i,y:s}]=this.points;return t&&(t.lineTo(i,s),t.closePath()),e}constructor(...t){super(...t),this.type="polygon"}}class gr extends q{createPattern(t,e,i){const s=this.getStyle("width").getPixels("x",!0),r=this.getStyle("height").getPixels("y",!0),n=new ue(this.document,null);n.attributes.viewBox=new E(this.document,"viewBox",this.getAttribute("viewBox").getValue()),n.attributes.width=new E(this.document,"width","".concat(s,"px")),n.attributes.height=new E(this.document,"height","".concat(r,"px")),n.attributes.transform=new E(this.document,"transform",this.getAttribute("patternTransform").getValue()),n.children=this.children;const a=this.document.createCanvas(s,r),o=a.getContext("2d"),h=this.getAttribute("x"),u=this.getAttribute("y");h.hasValue()&&u.hasValue()&&o.translate(h.getPixels("x",!0),u.getPixels("y",!0)),i.hasValue()?this.styles["fill-opacity"]=i:Reflect.deleteProperty(this.styles,"fill-opacity");for(let g=-1;g<=1;g++)for(let c=-1;c<=1;c++)o.save(),n.attributes.x=new E(this.document,"x",g*a.width),n.attributes.y=new E(this.document,"y",c*a.height),n.render(o),o.restore();return t.createPattern(a,"repeat")}constructor(...t){super(...t),this.type="pattern"}}class dr extends q{render(t,e,i){if(!e)return;const{x:s,y:r}=e,n=this.getAttribute("orient").getString("auto"),a=this.getAttribute("markerUnits").getString("strokeWidth");t.translate(s,r),n==="auto"&&t.rotate(i),a==="strokeWidth"&&t.scale(t.lineWidth,t.lineWidth),t.save();const o=new ue(this.document);o.type=this.type,o.attributes.viewBox=new E(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.refX=new E(this.document,"refX",this.getAttribute("refX").getValue()),o.attributes.refY=new E(this.document,"refY",this.getAttribute("refY").getValue()),o.attributes.width=new E(this.document,"width",this.getAttribute("markerWidth").getValue()),o.attributes.height=new E(this.document,"height",this.getAttribute("markerHeight").getValue()),o.attributes.overflow=new E(this.document,"overflow",this.getAttribute("overflow").getValue()),o.attributes.fill=new E(this.document,"fill",this.getAttribute("fill").getColor("black")),o.attributes.stroke=new E(this.document,"stroke",this.getAttribute("stroke").getValue("none")),o.children=this.children,o.render(t),t.restore(),a==="strokeWidth"&&t.scale(1/t.lineWidth,1/t.lineWidth),n==="auto"&&t.rotate(-i),t.translate(-s,-r)}constructor(...t){super(...t),this.type="marker"}}class mr extends q{render(){}constructor(...t){super(...t),this.type="defs"}}class qe extends Gt{getBoundingBox(t){const e=new St;return this.children.forEach(i=>{e.addBoundingBox(i.getBoundingBox(t))}),e}constructor(...t){super(...t),this.type="g"}}class Hi extends q{getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(t,e,i){let s=this;this.getHrefAttribute().hasValue()&&(s=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(s));const{stops:r}=s,n=this.getGradient(t,e);if(!n)return this.addParentOpacity(i,r[r.length-1].color);if(r.forEach(a=>{n.addColorStop(a.offset,this.addParentOpacity(i,a.color))}),this.getAttribute("gradientTransform").hasValue()){const{document:a}=this,{MAX_VIRTUAL_PIXELS:o}=kt,{viewPort:h}=a.screen,u=h.getRoot(),f=new Yi(a);f.attributes.x=new E(a,"x",-o/3),f.attributes.y=new E(a,"y",-o/3),f.attributes.width=new E(a,"width",o),f.attributes.height=new E(a,"height",o);const g=new qe(a);g.attributes.transform=new E(a,"transform",this.getAttribute("gradientTransform").getValue()),g.children=[f];const c=new ue(a);c.attributes.x=new E(a,"x",0),c.attributes.y=new E(a,"y",0),c.attributes.width=new E(a,"width",u.width),c.attributes.height=new E(a,"height",u.height),c.children=[g];const d=a.createCanvas(u.width,u.height),m=d.getContext("2d");return m.fillStyle=n,c.render(m),m.createPattern(d,"no-repeat")}return n}inheritStopContainer(t){this.attributesToInherit.forEach(e=>{!this.getAttribute(e).hasValue()&&t.getAttribute(e).hasValue()&&this.getAttribute(e,!0).setValue(t.getAttribute(e).getValue())})}addParentOpacity(t,e){return t.hasValue()?new E(this.document,"color",e).addOpacity(t).getColor():e}constructor(t,e,i){super(t,e,i),this.attributesToInherit=["gradientUnits"],this.stops=[];const{stops:s,children:r}=this;r.forEach(n=>{n.type==="stop"&&s.push(n)})}}class pr extends Hi{getGradient(t,e){const i=this.getGradientUnits()==="objectBoundingBox",s=i?e.getBoundingBox(t):null;if(i&&!s)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));const r=i?s.x+s.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),n=i?s.y+s.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),a=i?s.x+s.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),o=i?s.y+s.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return r===a&&n===o?null:t.createLinearGradient(r,n,a,o)}constructor(t,e,i){super(t,e,i),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}}class yr extends Hi{getGradient(t,e){const i=this.getGradientUnits()==="objectBoundingBox",s=e.getBoundingBox(t);if(i&&!s)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");const r=i?s.x+s.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),n=i?s.y+s.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y");let a=r,o=n;this.getAttribute("fx").hasValue()&&(a=i?s.x+s.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(o=i?s.y+s.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));const h=i?(s.width+s.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),u=this.getAttribute("fr").getPixels();return t.createRadialGradient(a,o,u,r,n,h)}constructor(t,e,i){super(t,e,i),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}}class br extends q{constructor(t,e,i){super(t,e,i),this.type="stop";const s=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),r=this.getStyle("stop-opacity");let n=this.getStyle("stop-color",!0);n.getString()===""&&n.setValue("#000"),r.hasValue()&&(n=n.addOpacity(r)),this.offset=s,this.color=n.getColor()}}class Qe extends q{getProperty(){const t=this.getAttribute("attributeType").getString(),e=this.getAttribute("attributeName").getString();return t==="CSS"?this.parent.getStyle(e,!0):this.parent.getAttribute(e,!0)}calcValue(){const{initialUnits:t}=this,{progress:e,from:i,to:s}=this.getProgress();let r=i.getNumber()+(s.getNumber()-i.getNumber())*e;return t==="%"&&(r*=100),"".concat(r).concat(t)}update(t){const{parent:e}=this,i=this.getProperty();if(this.initialValue||(this.initialValue=i.getString(),this.initialUnits=i.getUnits()),this.duration>this.maxDuration){const r=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(r==="freeze"&&!this.frozen)this.frozen=!0,e&&i&&(e.animationFrozen=!0,e.animationFrozenValue=i.getString());else if(r==="remove"&&!this.removed)return this.removed=!0,e&&i&&i.setValue(e.animationFrozen?e.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=t;let s=!1;if(this.begin<this.duration){let r=this.calcValue();const n=this.getAttribute("type");if(n.hasValue()){const a=n.getString();r="".concat(a,"(").concat(r,")")}i.setValue(r),s=!0}return s}getProgress(){const{document:t,values:e}=this;let i=(this.duration-this.begin)/(this.maxDuration-this.begin),s,r;if(e.hasValue()){const n=i*(e.getValue().length-1),a=Math.floor(n),o=Math.ceil(n);let h;h=e.getValue()[a],s=new E(t,"from",h?parseFloat(h):0),h=e.getValue()[o],r=new E(t,"to",h?parseFloat(h):0),i=(n-a)/(o-a)}else s=this.from,r=this.to;return{progress:i,from:s,to:r}}constructor(t,e,i){super(t,e,i),this.type="animate",this.duration=0,this.initialUnits="",this.removed=!1,this.frozen=!1,t.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new E(t,"values",null);const s=this.getAttribute("values");s.hasValue()&&this.values.setValue(s.getString().split(";"))}}class vr extends Qe{calcValue(){const{progress:t,from:e,to:i}=this.getProgress(),s=new Ye(e.getColor()),r=new Ye(i.getColor());if(s.ok&&r.ok){const n=s.r+(r.r-s.r)*t,a=s.g+(r.g-s.g)*t,o=s.b+(r.b-s.b)*t;return"rgb(".concat(Math.floor(n),", ").concat(Math.floor(a),", ").concat(Math.floor(o),")")}return this.getAttribute("from").getColor()}constructor(...t){super(...t),this.type="animateColor"}}class xr extends Qe{calcValue(){const{progress:t,from:e,to:i}=this.getProgress(),s=gt(e.getString()),r=gt(i.getString());return s.map((a,o)=>{const h=r[o];return a+(h-a)*t}).join(" ")}constructor(...t){super(...t),this.type="animateTransform"}}class Wi extends q{constructor(t,e,i){super(t,e,i),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Ge extends X{constructor(t,e,i){super(t,e,i),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class qi extends Ge{constructor(...t){super(...t),this.type="missing-glyph",this.horizAdvX=0}}class wr extends q{render(){}constructor(t,e,i){super(t,e,i),this.type="font",this.isArabic=!1,this.glyphs={},this.arabicGlyphs={},this.isRTL=!1,this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();const{definitions:s}=t,{children:r}=this;for(const n of r)if(n instanceof Wi){this.fontFace=n;const a=n.getStyle("font-family");a.hasValue()&&(s[a.getString()]=this)}else if(n instanceof qi)this.missingGlyph=n;else if(n instanceof Ge)if(n.arabicForm){this.isRTL=!0,this.isArabic=!0;const a=this.arabicGlyphs[n.unicode];typeof a>"u"?this.arabicGlyphs[n.unicode]={[n.arabicForm]:n}:a[n.arabicForm]=n}else this.glyphs[n.unicode]=n}}class Tr extends Bt{getText(){const t=this.getHrefAttribute().getDefinition();if(t){const e=t.children[0];if(e)return e.getText()}return""}constructor(...t){super(...t),this.type="tref"}}class Sr extends Bt{getText(){return this.text}renderChildren(t){if(this.hasText){super.renderChildren(t);const{document:e,x:i,y:s}=this,{mouse:r}=e.screen,n=new E(e,"fontSize",at.parse(e.ctx.font).fontSize);r.isWorking()&&r.checkBoundingBox(this,new St(i,s-n.getPixels("y"),i+this.measureText(t),s))}else if(this.children.length>0){const e=new qe(this.document);e.children=this.children,e.parent=this,e.render(t)}}onClick(){const{window:t}=this.document;t&&t.open(this.getHrefAttribute().getString())}onMouseMove(){const t=this.document.ctx;t.canvas.style.cursor="pointer"}constructor(t,e,i){super(t,e,i),this.type="a";const{childNodes:s}=e,r=s[0],n=s.length>0&&Array.from(s).every(a=>a.nodeType===3);this.hasText=n,this.text=n?this.getTextFromNode(r):""}}class Ar extends Bt{getText(){return this.text}path(t){const{dataArray:e}=this;t&&t.beginPath(),e.forEach(i=>{let{type:s,points:r}=i;switch(s){case N.LINE_TO:t&&t.lineTo(r[0],r[1]);break;case N.MOVE_TO:t&&t.moveTo(r[0],r[1]);break;case N.CURVE_TO:t&&t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case N.QUAD_TO:t&&t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case N.ARC:{const[n,a,o,h,u,f,g,c]=r,d=o>h?o:h,m=o>h?1:o/h,p=o>h?h/o:1;t&&(t.translate(n,a),t.rotate(g),t.scale(m,p),t.arc(0,0,d,u,u+f,Boolean(1-c)),t.scale(1/m,1/p),t.rotate(-g),t.translate(-n,-a));break}case N.CLOSE_PATH:t&&t.closePath();break}})}renderChildren(t){this.setTextData(t),t.save();const e=this.parent.getStyle("text-decoration").getString(),i=this.getFontSize(),{glyphInfo:s}=this,r=t.fillStyle;e==="underline"&&t.beginPath(),s.forEach((n,a)=>{const{p0:o,p1:h,rotation:u,text:f}=n;t.save(),t.translate(o.x,o.y),t.rotate(u),t.fillStyle&&t.fillText(f,0,0),t.strokeStyle&&t.strokeText(f,0,0),t.restore(),e==="underline"&&(a===0&&t.moveTo(o.x,o.y+i/8),t.lineTo(h.x,h.y+i/5))}),e==="underline"&&(t.lineWidth=i/20,t.strokeStyle=r,t.stroke(),t.closePath()),t.restore()}getLetterSpacingAt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[t]||0}findSegmentToFitChar(t,e,i,s,r,n,a,o,h){let u=n,f=this.measureText(t,o);o===" "&&e==="justify"&&i<s&&(f+=(s-i)/r),h>-1&&(u+=this.getLetterSpacingAt(h));const g=this.textHeight/20,c=this.getEquidistantPointOnPath(u,g,0),d=this.getEquidistantPointOnPath(u+f,g,0),m={p0:c,p1:d},p=c&&d?Math.atan2(d.y-c.y,d.x-c.x):0;if(a){const y=Math.cos(Math.PI/2+p)*a,v=Math.cos(-p)*a;m.p0={...c,x:c.x+y,y:c.y+v},m.p1={...d,x:d.x+y,y:d.y+v}}return u+=f,{offset:u,segment:m,rotation:p}}measureText(t,e){const{measuresCache:i}=this,s=e||this.getText();if(i.has(s))return i.get(s);const r=this.measureTargetText(t,s);return i.set(s,r),r}setTextData(t){if(this.glyphInfo)return;const e=this.getText(),i=e.split(""),s=e.split(" ").length-1,r=this.parent.getAttribute("dx").split().map(b=>b.getPixels("x")),n=this.parent.getAttribute("dy").getPixels("y"),a=this.parent.getStyle("text-anchor").getString("start"),o=this.getStyle("letter-spacing"),h=this.parent.getStyle("letter-spacing");let u=0;!o.hasValue()||o.getValue()==="inherit"?u=h.getPixels():o.hasValue()&&o.getValue()!=="initial"&&o.getValue()!=="unset"&&(u=o.getPixels());const f=[],g=e.length;this.letterSpacingCache=f;for(let b=0;b<g;b++)f.push(typeof r[b]<"u"?r[b]:u);const c=f.reduce((b,w,O)=>O===0?0:b+w||0,0),d=this.measureText(t),m=Math.max(d+c,0);this.textWidth=d,this.textHeight=this.getFontSize(),this.glyphInfo=[];const p=this.getPathLength(),y=this.getStyle("startOffset").getNumber(0)*p;let v=0;(a==="middle"||a==="center")&&(v=-m/2),(a==="end"||a==="right")&&(v=-m),v+=y,i.forEach((b,w)=>{const{offset:O,segment:P,rotation:C}=this.findSegmentToFitChar(t,a,m,p,s,v,n,b,w);v=O,!(!P.p0||!P.p1)&&this.glyphInfo.push({text:i[w],p0:P.p0,p1:P.p1,rotation:C})})}parsePathData(t){if(this.pathLength=-1,!t)return[];const e=[],{pathParser:i}=t;for(i.reset();!i.isEnd();){const{current:s}=i,r=s?s.x:0,n=s?s.y:0,a=i.next();let o=a.type,h=[];switch(a.type){case N.MOVE_TO:this.pathM(i,h);break;case N.LINE_TO:o=this.pathL(i,h);break;case N.HORIZ_LINE_TO:o=this.pathH(i,h);break;case N.VERT_LINE_TO:o=this.pathV(i,h);break;case N.CURVE_TO:this.pathC(i,h);break;case N.SMOOTH_CURVE_TO:o=this.pathS(i,h);break;case N.QUAD_TO:this.pathQ(i,h);break;case N.SMOOTH_QUAD_TO:o=this.pathT(i,h);break;case N.ARC:h=this.pathA(i);break;case N.CLOSE_PATH:X.pathZ(i);break}a.type!==N.CLOSE_PATH?e.push({type:o,points:h,start:{x:r,y:n},pathLength:this.calcLength(r,n,o,h)}):e.push({type:N.CLOSE_PATH,points:[],pathLength:0})}return e}pathM(t,e){const{x:i,y:s}=X.pathM(t).point;e.push(i,s)}pathL(t,e){const{x:i,y:s}=X.pathL(t).point;return e.push(i,s),N.LINE_TO}pathH(t,e){const{x:i,y:s}=X.pathH(t).point;return e.push(i,s),N.LINE_TO}pathV(t,e){const{x:i,y:s}=X.pathV(t).point;return e.push(i,s),N.LINE_TO}pathC(t,e){const{point:i,controlPoint:s,currentPoint:r}=X.pathC(t);e.push(i.x,i.y,s.x,s.y,r.x,r.y)}pathS(t,e){const{point:i,controlPoint:s,currentPoint:r}=X.pathS(t);return e.push(i.x,i.y,s.x,s.y,r.x,r.y),N.CURVE_TO}pathQ(t,e){const{controlPoint:i,currentPoint:s}=X.pathQ(t);e.push(i.x,i.y,s.x,s.y)}pathT(t,e){const{controlPoint:i,currentPoint:s}=X.pathT(t);return e.push(i.x,i.y,s.x,s.y),N.QUAD_TO}pathA(t){let{rX:e,rY:i,sweepFlag:s,xAxisRotation:r,centp:n,a1:a,ad:o}=X.pathA(t);return s===0&&o>0&&(o-=2*Math.PI),s===1&&o<0&&(o+=2*Math.PI),[n.x,n.y,e,i,a,o,r,s]}calcLength(t,e,i,s){let r=0,n=null,a=null,o=0;switch(i){case N.LINE_TO:return this.getLineLength(t,e,s[0],s[1]);case N.CURVE_TO:for(r=0,n=this.getPointOnCubicBezier(0,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),o=.01;o<=1;o+=.01)a=this.getPointOnCubicBezier(o,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),r+=this.getLineLength(n.x,n.y,a.x,a.y),n=a;return r;case N.QUAD_TO:for(r=0,n=this.getPointOnQuadraticBezier(0,t,e,s[0],s[1],s[2],s[3]),o=.01;o<=1;o+=.01)a=this.getPointOnQuadraticBezier(o,t,e,s[0],s[1],s[2],s[3]),r+=this.getLineLength(n.x,n.y,a.x,a.y),n=a;return r;case N.ARC:{r=0;const h=s[4],u=s[5],f=s[4]+u;let g=Math.PI/180;if(Math.abs(h-f)<g&&(g=Math.abs(h-f)),n=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],h,0),u<0)for(o=h-g;o>f;o-=g)a=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],o,0),r+=this.getLineLength(n.x,n.y,a.x,a.y),n=a;else for(o=h+g;o<f;o+=g)a=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],o,0),r+=this.getLineLength(n.x,n.y,a.x,a.y),n=a;return a=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],f,0),r+=this.getLineLength(n.x,n.y,a.x,a.y),r}}return 0}getPointOnLine(t,e,i,s,r){let n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:e,a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:i;const o=(r-i)/(s-e+ee);let h=Math.sqrt(t*t/(1+o*o));s<e&&(h*=-1);let u=o*h,f=null;if(s===e)f={x:n,y:a+u};else if((a-i)/(n-e+ee)===o)f={x:n+h,y:a+u};else{let g=0,c=0;const d=this.getLineLength(e,i,s,r);if(d<ee)return null;let m=(n-e)*(s-e)+(a-i)*(r-i);m/=d*d,g=e+m*(s-e),c=i+m*(r-i);const p=this.getLineLength(n,a,g,c),y=Math.sqrt(t*t-p*p);h=Math.sqrt(y*y/(1+o*o)),s<e&&(h*=-1),u=o*h,f={x:g+h,y:c+u}}return f}getPointOnPath(t){const e=this.getPathLength();let i=0,s=null;if(t<-5e-5||t-5e-5>e)return null;const{dataArray:r}=this;for(const n of r){if(n&&(n.pathLength<5e-5||i+n.pathLength+5e-5<t)){i+=n.pathLength;continue}const a=t-i;let o=0;switch(n.type){case N.LINE_TO:s=this.getPointOnLine(a,n.start.x,n.start.y,n.points[0],n.points[1],n.start.x,n.start.y);break;case N.ARC:{const h=n.points[4],u=n.points[5],f=n.points[4]+u;if(o=h+a/n.pathLength*u,u<0&&o<f||u>=0&&o>f)break;s=this.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],o,n.points[6]);break}case N.CURVE_TO:o=a/n.pathLength,o>1&&(o=1),s=this.getPointOnCubicBezier(o,n.start.x,n.start.y,n.points[0],n.points[1],n.points[2],n.points[3],n.points[4],n.points[5]);break;case N.QUAD_TO:o=a/n.pathLength,o>1&&(o=1),s=this.getPointOnQuadraticBezier(o,n.start.x,n.start.y,n.points[0],n.points[1],n.points[2],n.points[3]);break}if(s)return s;break}return null}getLineLength(t,e,i,s){return Math.sqrt((i-t)*(i-t)+(s-e)*(s-e))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((t,e)=>e.pathLength>0?t+e.pathLength:t,0)),this.pathLength}getPointOnCubicBezier(t,e,i,s,r,n,a,o,h){const u=o*gi(t)+n*di(t)+s*mi(t)+e*pi(t),f=h*gi(t)+a*di(t)+r*mi(t)+i*pi(t);return{x:u,y:f}}getPointOnQuadraticBezier(t,e,i,s,r,n,a){const o=n*yi(t)+s*bi(t)+e*vi(t),h=a*yi(t)+r*bi(t)+i*vi(t);return{x:o,y:h}}getPointOnEllipticalArc(t,e,i,s,r,n){const a=Math.cos(n),o=Math.sin(n),h={x:i*Math.cos(r),y:s*Math.sin(r)};return{x:t+(h.x*a-h.y*o),y:e+(h.x*o+h.y*a)}}buildEquidistantCache(t,e){const i=this.getPathLength(),s=e||.25,r=t||i/100;if(!this.equidistantCache||this.equidistantCache.step!==r||this.equidistantCache.precision!==s){this.equidistantCache={step:r,precision:s,points:[]};let n=0;for(let a=0;a<=i;a+=s){const o=this.getPointOnPath(a),h=this.getPointOnPath(a+s);!o||!h||(n+=this.getLineLength(o.x,o.y,h.x,h.y),n>=r&&(this.equidistantCache.points.push({x:o.x,y:o.y,distance:a}),n-=r))}}}getEquidistantPointOnPath(t,e,i){if(this.buildEquidistantCache(e,i),t<0||t-this.getPathLength()>5e-5)return null;const s=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[s]||null}constructor(t,e,i){super(t,e,i),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);const s=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(s)}}const Cr=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class Er extends Gt{async loadImage(t){try{const e=await this.document.createImage(t);this.image=e}catch(e){console.error('Error while loading image "'.concat(t,'":'),e)}this.loaded=!0}async loadSvg(t){const e=Cr.exec(t);if(e){const i=e[5];i&&(e[4]==="base64"?this.image=atob(i):this.image=decodeURIComponent(i))}else try{const s=await(await this.document.fetch(t)).text();this.image=s}catch(i){console.error('Error while loading image "'.concat(t,'":'),i)}this.loaded=!0}renderChildren(t){const{document:e,image:i,loaded:s}=this,r=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y");if(!(!s||!i||!a||!o)){if(t.save(),t.translate(r,n),typeof i=="string"){const h=e.canvg.forkString(t,i,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:a,scaleHeight:o}),{documentElement:u}=h.document;u&&(u.parent=this),h.render()}else e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:a,desiredWidth:i.width,height:o,desiredHeight:i.height}),this.loaded&&(!("complete"in i)||i.complete)&&t.drawImage(i,0,0);t.restore()}}getBoundingBox(){const t=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y"),i=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");return new St(t,e,t+i,e+s)}constructor(t,e,i){super(t,e,i),this.type="image",this.loaded=!1;const s=this.getHrefAttribute().getString();if(!s)return;const r=s.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(s);t.images.push(this),r?this.loadSvg(s):this.loadImage(s)}}class Pr extends Gt{render(t){}constructor(...t){super(...t),this.type="symbol"}}class Mr{async load(t,e){try{const{document:i}=this,r=(await i.canvg.parser.load(e)).getElementsByTagName("font");Array.from(r).forEach(n=>{const a=i.createElement(n);i.definitions[t]=a})}catch(i){console.error('Error while loading font "'.concat(e,'":'),i)}this.loaded=!0}constructor(t){this.document=t,this.loaded=!1,t.fonts.push(this)}}class Qi extends q{constructor(t,e,i){super(t,e,i),this.type="style",ne(Array.from(e.childNodes).map(n=>n.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(n=>{const a=n.trim();if(!a)return;const o=a.split("{"),h=o[0].split(","),u=o[1].split(";");h.forEach(f=>{const g=f.trim();if(!g)return;const c=t.styles[g]||{};if(u.forEach(d=>{const m=d.indexOf(":"),p=d.substr(0,m).trim(),y=d.substr(m+1,d.length-m).trim();p&&y&&(c[p]=new E(t,p,y))}),t.styles[g]=c,t.stylesSpecificity[g]=qs(g),g==="@font-face"){const d=c["font-family"].getString().replace(/"|'/g,"");c.src.getString().split(",").forEach(p=>{if(p.indexOf('format("svg")')>0){const y=Di(p);y&&new Mr(t).load(d,y)}})}})})}}Qi.parseExternalUrl=Di;class Nr extends Gt{setContext(t){super.setContext(t);const e=this.getAttribute("x"),i=this.getAttribute("y");e.hasValue()&&t.translate(e.getPixels("x"),0),i.hasValue()&&t.translate(0,i.getPixels("y"))}path(t){const{element:e}=this;e&&e.path(t)}renderChildren(t){const{document:e,element:i}=this;if(i){let s=i;if(i.type==="symbol"&&(s=new ue(e),s.attributes.viewBox=new E(e,"viewBox",i.getAttribute("viewBox").getString()),s.attributes.preserveAspectRatio=new E(e,"preserveAspectRatio",i.getAttribute("preserveAspectRatio").getString()),s.attributes.overflow=new E(e,"overflow",i.getAttribute("overflow").getString()),s.children=i.children,i.styles.opacity=new E(e,"opacity",this.calculateOpacity())),s.type==="svg"){const n=this.getStyle("width",!1,!0),a=this.getStyle("height",!1,!0);n.hasValue()&&(s.attributes.width=new E(e,"width",n.getString())),a.hasValue()&&(s.attributes.height=new E(e,"height",a.getString()))}const r=s.parent;s.parent=this,s.render(t),s.parent=r}}getBoundingBox(t){const{element:e}=this;return e?e.getBoundingBox(t):null}elementTransform(){const{document:t,element:e}=this;return e?qt.fromElement(t,e):null}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}constructor(...t){super(...t),this.type="use"}}function ve(l,t,e,i,s,r){return l[e*i*4+t*4+r]}function xe(l,t,e,i,s,r,n){l[e*i*4+t*4+r]=n}function tt(l,t,e){return l[t]*e}function Nt(l,t,e,i){return t+Math.cos(l)*e+Math.sin(l)*i}class Gi extends q{apply(t,e,i,s,r){const{includeOpacity:n,matrix:a}=this,o=t.getImageData(0,0,s,r);for(let h=0;h<r;h++)for(let u=0;u<s;u++){const f=ve(o.data,u,h,s,r,0),g=ve(o.data,u,h,s,r,1),c=ve(o.data,u,h,s,r,2),d=ve(o.data,u,h,s,r,3);let m=tt(a,0,f)+tt(a,1,g)+tt(a,2,c)+tt(a,3,d)+tt(a,4,1),p=tt(a,5,f)+tt(a,6,g)+tt(a,7,c)+tt(a,8,d)+tt(a,9,1),y=tt(a,10,f)+tt(a,11,g)+tt(a,12,c)+tt(a,13,d)+tt(a,14,1),v=tt(a,15,f)+tt(a,16,g)+tt(a,17,c)+tt(a,18,d)+tt(a,19,1);n&&(m=0,p=0,y=0,v*=d/255),xe(o.data,u,h,s,r,0,m),xe(o.data,u,h,s,r,1,p),xe(o.data,u,h,s,r,2,y),xe(o.data,u,h,s,r,3,v)}t.clearRect(0,0,s,r),t.putImageData(o,0,0)}constructor(t,e,i){super(t,e,i),this.type="feColorMatrix";let s=gt(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{const r=s[0];s=[.213+.787*r,.715-.715*r,.072-.072*r,0,0,.213-.213*r,.715+.285*r,.072-.072*r,0,0,.213-.213*r,.715-.715*r,.072+.928*r,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{const r=s[0]*Math.PI/180;s=[Nt(r,.213,.787,-.213),Nt(r,.715,-.715,-.715),Nt(r,.072,-.072,.928),0,0,Nt(r,.213,-.213,.143),Nt(r,.715,.285,.14),Nt(r,.072,-.072,-.283),0,0,Nt(r,.213,-.213,-.787),Nt(r,.715,-.715,.715),Nt(r,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=s,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}}class Ee extends q{apply(t,e){const{document:i}=this;let s=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),n=this.getStyle("width").getPixels("x"),a=this.getStyle("height").getPixels("y");if(!n&&!a){const c=new St;this.children.forEach(d=>{c.addBoundingBox(d.getBoundingBox(t))}),s=Math.floor(c.x1),r=Math.floor(c.y1),n=Math.floor(c.width),a=Math.floor(c.height)}const o=this.removeStyles(e,Ee.ignoreStyles),h=i.createCanvas(s+n,r+a),u=h.getContext("2d");i.screen.setDefaults(u),this.renderChildren(u),new Gi(i,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(u,0,0,s+n,r+a);const f=i.createCanvas(s+n,r+a),g=f.getContext("2d");i.screen.setDefaults(g),e.render(g),g.globalCompositeOperation="destination-in",g.fillStyle=u.createPattern(h,"no-repeat"),g.fillRect(0,0,s+n,r+a),t.fillStyle=g.createPattern(f,"no-repeat"),t.fillRect(0,0,s+n,r+a),this.restoreStyles(e,o)}render(t){}constructor(...t){super(...t),this.type="mask"}}Ee.ignoreStyles=["mask","transform","clip-path"];const wi=()=>{};class Or extends q{apply(t){const{document:e}=this,i=Reflect.getPrototypeOf(t),{beginPath:s,closePath:r}=t;i&&(i.beginPath=wi,i.closePath=wi),Reflect.apply(s,t,[]),this.children.forEach(n=>{if(!("path"in n))return;let a="elementTransform"in n?n.elementTransform():null;a||(a=qt.fromElement(e,n)),a&&a.apply(t),n.path(t),i&&(i.closePath=r),a&&a.unapply(t)}),Reflect.apply(r,t,[]),t.clip(),i&&(i.beginPath=s,i.closePath=r)}render(t){}constructor(...t){super(...t),this.type="clipPath"}}class Pe extends q{apply(t,e){const{document:i,children:s}=this,r="getBoundingBox"in e?e.getBoundingBox(t):null;if(!r)return;let n=0,a=0;s.forEach(y=>{const v=y.extraFilterDistance||0;n=Math.max(n,v),a=Math.max(a,v)});const o=Math.floor(r.width),h=Math.floor(r.height),u=o+2*n,f=h+2*a;if(u<1||f<1)return;const g=Math.floor(r.x),c=Math.floor(r.y),d=this.removeStyles(e,Pe.ignoreStyles),m=i.createCanvas(u,f),p=m.getContext("2d");i.screen.setDefaults(p),p.translate(-g+n,-c+a),e.render(p),s.forEach(y=>{typeof y.apply=="function"&&y.apply(p,0,0,u,f)}),t.drawImage(m,0,0,u,f,g-n,c-a,u,f),this.restoreStyles(e,d)}render(t){}constructor(...t){super(...t),this.type="filter"}}Pe.ignoreStyles=["filter","transform","clip-path"];class Vr extends q{apply(t,e,i,s,r){}constructor(t,e,i){super(t,e,i),this.type="feDropShadow",this.addStylesFromStyleDefinition()}}class kr extends q{apply(t,e,i,s,r){}constructor(...t){super(...t),this.type="feMorphology"}}class _r extends q{apply(t,e,i,s,r){}constructor(...t){super(...t),this.type="feComposite"}}class Rr extends q{apply(t,e,i,s,r){const{document:n,blurRadius:a}=this,o=n.window?n.window.document.body:null,h=t.canvas;h.id=n.getUniqueId(),o&&(h.style.display="none",o.appendChild(h)),Vs(h,e,i,s,r,a),o&&o.removeChild(h)}constructor(t,e,i){super(t,e,i),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}}class Ir extends q{constructor(...t){super(...t),this.type="title"}}class Lr extends q{constructor(...t){super(...t),this.type="desc"}}const Dr={svg:ue,rect:Yi,circle:hr,ellipse:ur,line:cr,polyline:Ui,polygon:fr,path:X,pattern:gr,marker:dr,defs:mr,linearGradient:pr,radialGradient:yr,stop:br,animate:Qe,animateColor:vr,animateTransform:xr,font:wr,"font-face":Wi,"missing-glyph":qi,glyph:Ge,text:Bt,tspan:Ce,tref:Tr,a:Sr,textPath:Ar,image:Er,g:qe,symbol:Pr,style:Qi,use:Nr,mask:Ee,clipPath:Or,filter:Pe,feDropShadow:Vr,feMorphology:kr,feComposite:_r,feColorMatrix:Gi,feGaussianBlur:Rr,title:Ir,desc:Lr};function Br(l,t){const e=document.createElement("canvas");return e.width=l,e.height=t,e}async function Xr(l){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const e=document.createElement("img");return t&&(e.crossOrigin="Anonymous"),new Promise((i,s)=>{e.onload=()=>{i(e)},e.onerror=(r,n,a,o,h)=>{s(h)},e.src=l})}const ze=12;class Lt{bindCreateImage(t,e){return typeof e=="boolean"?(i,s)=>t(i,typeof s=="boolean"?s:e):t}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){const{emSizeStack:t}=this;return t[t.length-1]||ze}set emSize(t){const{emSizeStack:e}=this;e.push(t)}popEmSize(){const{emSizeStack:t}=this;t.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(t=>t.loaded)}isFontsLoaded(){return this.fonts.every(t=>t.loaded)}createDocumentElement(t){const e=this.createElement(t.documentElement);return e.root=!0,e.addStylesFromStyleDefinition(),this.documentElement=e,e}createElement(t){const e=t.nodeName.replace(/^[^:]+:/,""),i=Lt.elementTypes[e];return i?new i(this,t):new sr(this,t)}createTextNode(t){return new lr(this,t)}setViewBox(t){this.screen.setViewBox({document:this,...t})}constructor(t,{rootEmSize:e=ze,emSize:i=ze,createCanvas:s=Lt.createCanvas,createImage:r=Lt.createImage,anonymousCrossOrigin:n}={}){this.canvg=t,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=e,this.emSize=i,this.createCanvas=s,this.createImage=this.bindCreateImage(r,n),this.screen.wait(()=>this.isImagesLoaded()),this.screen.wait(()=>this.isFontsLoaded())}}Lt.createCanvas=Br;Lt.createImage=Xr;Lt.elementTypes=Dr;class Jt{static async from(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=await new Xe(i).parse(e);return new Jt(t,r,i)}static fromString(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=new Xe(i).parseFromString(e);return new Jt(t,r,i)}fork(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Jt.from(t,e,{...this.options,...i})}forkString(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Jt.fromString(t,e,{...this.options,...i})}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}async render(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.start({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0,...t}),await this.ready(),this.stop()}start(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{documentElement:e,screen:i,options:s}=this;i.start(e,{enableRedraw:!0,...s,...t})}stop(){this.screen.stop()}resize(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(t,e,i)}constructor(t,e,i={}){this.parser=new Xe(i),this.screen=new kt(t,i),this.options=i;const s=new Lt(this,i),r=s.createDocumentElement(e);this.document=s,this.documentElement=r}}const zr=async l=>{const e=new XMLSerializer().serializeToString(l),i=document.createElement("canvas"),s=i==null?void 0:i.getContext("2d");return s&&(await Jt.from(s,e)).start(),await Ki(100),i.toDataURL("image/png")};function Ti(l,t,e){const i=l.slice();return i[20]=t[e],i[22]=e,i}function Si(l){let t,e;return t=new vs({props:{byte:l[20],index:l[22],angle:l[1],translateX:l[2],translateY:l[3],originX:l[4],originY:l[5]}}),{c(){vt(t.$$.fragment)},l(i){xt(t.$$.fragment,i)},m(i,s){wt(t,i,s),e=!0},p(i,s){const r={};s&2&&(r.angle=i[1]),s&4&&(r.translateX=i[2]),s&8&&(r.translateY=i[3]),s&16&&(r.originX=i[4]),s&32&&(r.originY=i[5]),t.$set(r)},i(i){e||(rt(t.$$.fragment,i),e=!0)},o(i){nt(t.$$.fragment,i),e=!1},d(i){Tt(t,i)}}}function Ai(l){let t,e,i;return{c(){t=Se("image"),this.h()},l(s){t=Ae(s,"image",{x:!0,y:!0,width:!0,height:!0,href:!0,rx:!0}),D(t).forEach(M),this.h()},h(){T(t,"x","110"),T(t,"y","110"),T(t,"width","100"),T(t,"height","100"),T(t,"href","/favicon.svg"),T(t,"rx","80")},m(s,r){ft(s,t,r),e||(i=Ot(t,"click",l[13]),e=!0)},p:Dt,d(s){s&&M(t),e=!1,i()}}}function Ci(l){let t,e,i,s,r=l[10],n=[];for(let h=0;h<r.length;h+=1)n[h]=Si(Ti(l,r,h));const a=h=>nt(n[h],1,1,()=>{n[h]=null});let o=l[6]&&Ai(l);return{c(){t=Se("svg");for(let h=0;h<n.length;h+=1)n[h].c();e=$e(),o&&o.c(),this.h()},l(h){t=Ae(h,"svg",{width:!0,height:!0,viewBox:!0});var u=D(t);for(let f=0;f<n.length;f+=1)n[f].l(u);e=$e(),o&&o.l(u),u.forEach(M),this.h()},h(){T(t,"width",l[0]),T(t,"height",l[0]),T(t,"viewBox",i=`0 0 ${l[0]} ${l[0]}`)},m(h,u){ft(h,t,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);A(t,e),o&&o.m(t,null),l[14](t),s=!0},p(h,u){if(u&1086){r=h[10];let f;for(f=0;f<r.length;f+=1){const g=Ti(h,r,f);n[f]?(n[f].p(g,u),rt(n[f],1)):(n[f]=Si(g),n[f].c(),rt(n[f],1),n[f].m(t,e))}for(Ni(),f=r.length;f<n.length;f+=1)a(f);Oi()}h[6]?o?o.p(h,u):(o=Ai(h),o.c(),o.m(t,null)):o&&(o.d(1),o=null),(!s||u&1)&&T(t,"width",h[0]),(!s||u&1)&&T(t,"height",h[0]),(!s||u&1&&i!==(i=`0 0 ${h[0]} ${h[0]}`))&&T(t,"viewBox",i)},i(h){if(!s){for(let u=0;u<r.length;u+=1)rt(n[u]);s=!0}},o(h){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)nt(n[u]);s=!1},d(h){h&&M(t),We(n,h),o&&o.d(),l[14](null)}}}function Fr(l){let t,e=l[1]+l[2]+l[3]+l[4]+l[5],i,s,r,n,a=Ci(l);return{c(){t=V("div"),a.c(),i=Y(),s=V("a"),r=ut("Download"),this.h()},l(o){t=k(o,"DIV",{});var h=D(t);a.l(h),i=U(h),s=k(h,"A",{class:!0,href:!0,download:!0});var u=D(s);r=ct(u,"Download"),u.forEach(M),h.forEach(M),this.h()},h(){T(s,"class","absolute hidden"),T(s,"href","0"),T(s,"download","")},m(o,h){ft(o,t,h),a.m(t,null),A(t,i),A(t,s),A(s,r),l[15](s),n=!0},p(o,[h]){h&62&&Qt(e,e=o[1]+o[2]+o[3]+o[4]+o[5])?(Ni(),nt(a,1,1,Dt),Oi(),a=Ci(o),a.c(),rt(a,1),a.m(t,i)):a.p(o,h)},i(o){n||(rt(a),n=!0)},o(o){nt(a),n=!1},d(o){o&&M(t),a.d(o),l[15](null)}}}const Yr="LGI";function Ur(l,t,e){var C;let{bytes:i=36}=t,{size:s=320}=t,{angle:r=360/i}=t,{translateX:n=0}=t,{translateY:a=160}=t,{originX:o=160}=t,{originY:h=0}=t,{withImage:u=!0}=t,f,g;const c=S=>S<10?`0${S}`:S.toString(),d=()=>{const S=new Date,_=c(S.getDate()),L=c(S.getMonth()+1),H=c(+S.getFullYear().toString().substring(2));return _+L+H},m=S=>{const _=ti(S),L=us(_),H=ti(d());return[..._,...H,...L].slice(0,i)},p=(S,_)=>`${S}:${_}`;let y=(C=window.location.hash)==null?void 0:C.slice(1);y||(y=p(Yr,ki()),window.location.hash=y);let v=m(y);const b=(S,_)=>{e(8,g.href=S,g),e(8,g.download=`${_}.png`,g),g.click()},w=async()=>{const S=await zr(f);b(S,y)};function O(S){Ke[S?"unshift":"push"](()=>{f=S,e(7,f)})}function P(S){Ke[S?"unshift":"push"](()=>{g=S,e(8,g)})}return l.$$set=S=>{"bytes"in S&&e(12,i=S.bytes),"size"in S&&e(0,s=S.size),"angle"in S&&e(1,r=S.angle),"translateX"in S&&e(2,n=S.translateX),"translateY"in S&&e(3,a=S.translateY),"originX"in S&&e(4,o=S.originX),"originY"in S&&e(5,h=S.originY),"withImage"in S&&e(6,u=S.withImage)},[s,r,n,a,o,h,u,f,g,y,v,b,i,w,O,P]}class Hr extends se{constructor(t){super(),re(this,t,Ur,Fr,Qt,{bytes:12,size:0,angle:1,translateX:2,translateY:3,originX:4,originY:5,withImage:6})}}function Wr(l){let t,e,i,s;return{c(){t=V("button"),e=ut("Params")},l(r){t=k(r,"BUTTON",{});var n=D(t);e=ct(n,"Params"),n.forEach(M)},m(r,n){ft(r,t,n),A(t,e),i||(s=Ot(t,"click",l[10]),i=!0)},p:Dt,d(r){r&&M(t),i=!1,s()}}}function Ei(l){let t,e,i,s,r,n,a,o,h,u,f,g,c,d,m,p,y,v,b,w,O,P,C,S,_,L,H,Q,K,z,R,J,W,it,F,B,j,G,ot,st,At,Et,Zt,ae;return{c(){t=V("div"),e=V("div"),i=V("input"),s=Y(),r=V("label"),n=ut("Bytes: "),a=ut(l[1]),o=Y(),h=V("div"),u=V("input"),f=Y(),g=V("label"),c=ut("Angle: "),d=ut(l[2]),m=Y(),p=V("div"),y=V("input"),v=Y(),b=V("label"),w=ut("Translate X: "),O=ut(l[3]),P=Y(),C=V("div"),S=V("input"),_=Y(),L=V("label"),H=ut("Translate Y: "),Q=ut(l[4]),K=Y(),z=V("div"),R=V("input"),J=Y(),W=V("label"),it=ut("Origin X: "),F=ut(l[5]),B=Y(),j=V("div"),G=V("input"),ot=Y(),st=V("label"),At=ut("Origin Y: "),Et=ut(l[6]),this.h()},l($){t=k($,"DIV",{});var I=D(t);e=k(I,"DIV",{});var _t=D(e);i=k(_t,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0}),s=U(_t),r=k(_t,"LABEL",{for:!0});var Xt=D(r);n=ct(Xt,"Bytes: "),a=ct(Xt,l[1]),Xt.forEach(M),_t.forEach(M),o=U(I),h=k(I,"DIV",{});var Rt=D(h);u=k(Rt,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0}),f=U(Rt),g=k(Rt,"LABEL",{for:!0});var mt=D(g);c=ct(mt,"Angle: "),d=ct(mt,l[2]),mt.forEach(M),Rt.forEach(M),m=U(I),p=k(I,"DIV",{});var Pt=D(p);y=k(Pt,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0}),v=U(Pt),b=k(Pt,"LABEL",{for:!0});var jt=D(b);w=ct(jt,"Translate X: "),O=ct(jt,l[3]),jt.forEach(M),Pt.forEach(M),P=U(I),C=k(I,"DIV",{});var zt=D(C);S=k(zt,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0}),_=U(zt),L=k(zt,"LABEL",{for:!0});var $t=D(L);H=ct($t,"Translate Y: "),Q=ct($t,l[4]),$t.forEach(M),zt.forEach(M),K=U(I),z=k(I,"DIV",{});var Ft=D(z);R=k(Ft,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0}),J=U(Ft),W=k(Ft,"LABEL",{for:!0});var Ct=D(W);it=ct(Ct,"Origin X: "),F=ct(Ct,l[5]),Ct.forEach(M),Ft.forEach(M),B=U(I),j=k(I,"DIV",{});var dt=D(j);G=k(dt,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0}),ot=U(dt),st=k(dt,"LABEL",{for:!0});var pt=D(st);At=ct(pt,"Origin Y: "),Et=ct(pt,l[6]),pt.forEach(M),dt.forEach(M),I.forEach(M),this.h()},h(){T(i,"type","range"),T(i,"id","bytes"),T(i,"name","bytes"),T(i,"min","1"),T(i,"max","40"),T(i,"step",1),i.value=l[1],T(r,"for","angle"),T(u,"type","range"),T(u,"id","angle"),T(u,"name","angle"),T(u,"min","0"),T(u,"max","30"),T(u,"step",.5),u.value=l[2],T(g,"for","angle"),T(y,"type","range"),T(y,"id","translateX"),T(y,"name","translateX"),T(y,"min","0"),T(y,"max","320"),T(y,"step",10),y.value=l[3],T(b,"for","translateX"),T(S,"type","range"),T(S,"id","translateY"),T(S,"name","translateY"),T(S,"min","0"),T(S,"max","320"),T(S,"step",10),S.value=l[4],T(L,"for","translateY"),T(R,"type","range"),T(R,"id","originX"),T(R,"name","originX"),T(R,"min","0"),T(R,"max","320"),T(R,"step",10),R.value=l[5],T(W,"for","originX"),T(G,"type","range"),T(G,"id","originY"),T(G,"name","originY"),T(G,"min","0"),T(G,"max","320"),T(G,"step",10),G.value=l[6],T(st,"for","originY")},m($,I){ft($,t,I),A(t,e),A(e,i),A(e,s),A(e,r),A(r,n),A(r,a),A(t,o),A(t,h),A(h,u),A(h,f),A(h,g),A(g,c),A(g,d),A(t,m),A(t,p),A(p,y),A(p,v),A(p,b),A(b,w),A(b,O),A(t,P),A(t,C),A(C,S),A(C,_),A(C,L),A(L,H),A(L,Q),A(t,K),A(t,z),A(z,R),A(z,J),A(z,W),A(W,it),A(W,F),A(t,B),A(t,j),A(j,G),A(j,ot),A(j,st),A(st,At),A(st,Et),Zt||(ae=[Ot(i,"change",l[11]),Ot(u,"change",l[12]),Ot(y,"change",l[13]),Ot(S,"change",l[14]),Ot(R,"change",l[15]),Ot(G,"change",l[16])],Zt=!0)},p($,I){I&2&&(i.value=$[1]),I&2&&Kt(a,$[1]),I&4&&(u.value=$[2]),I&4&&Kt(d,$[2]),I&8&&(y.value=$[3]),I&8&&Kt(O,$[3]),I&16&&(S.value=$[4]),I&16&&Kt(Q,$[4]),I&32&&(R.value=$[5]),I&32&&Kt(F,$[5]),I&64&&(G.value=$[6]),I&64&&Kt(Et,$[6])},d($){$&&M(t),Zt=!1,$i(ae)}}}function qr(l){let t,e,i,s,r,n,a,o,h,u,f,g,c,d,m,p=l[8]&&Wr(l),y=l[7]&&Ei(l);return g=new Hr({props:{bytes:l[1],size:Qr,angle:l[2],translateX:l[3],translateY:l[4],originX:l[5],originY:l[6]}}),{c(){t=V("div"),e=V("input"),i=Y(),s=V("br"),r=Y(),p&&p.c(),n=Y(),y&&y.c(),a=Y(),o=V("br"),h=Y(),u=V("br"),f=Y(),vt(g.$$.fragment),this.h()},l(v){t=k(v,"DIV",{class:!0});var b=D(t);e=k(b,"INPUT",{class:!0}),i=U(b),s=k(b,"BR",{}),r=U(b),p&&p.l(b),n=U(b),y&&y.l(b),a=U(b),o=k(b,"BR",{}),h=U(b),u=k(b,"BR",{}),f=U(b),xt(g.$$.fragment,b),b.forEach(M),this.h()},h(){T(e,"class","text-center"),T(t,"class","text-center")},m(v,b){ft(v,t,b),A(t,e),Je(e,l[0]),A(t,i),A(t,s),A(t,r),p&&p.m(t,null),A(t,n),y&&y.m(t,null),A(t,a),A(t,o),A(t,h),A(t,u),A(t,f),wt(g,t,null),c=!0,d||(m=Ot(e,"input",l[9]),d=!0)},p(v,[b]){b&1&&e.value!==v[0]&&Je(e,v[0]),v[8]&&p.p(v,b),v[7]?y?y.p(v,b):(y=Ei(v),y.c(),y.m(t,a)):y&&(y.d(1),y=null);const w={};b&2&&(w.bytes=v[1]),b&4&&(w.angle=v[2]),b&8&&(w.translateX=v[3]),b&16&&(w.translateY=v[4]),b&32&&(w.originX=v[5]),b&64&&(w.originY=v[6]),g.$set(w)},i(v){c||(rt(g.$$.fragment,v),c=!0)},o(v){nt(g.$$.fragment,v),c=!1},d(v){v&&M(t),p&&p.d(),y&&y.d(),Tt(g),d=!1,m()}}}let Qr=320;function Gr(l,t,e){let{id:i}=t,s=36,r=360/s,n=0,a=160,o=160,h=0,u=rs,f=!1;function g(){i=this.value,e(0,i)}const c=()=>e(7,f=!f),d=w=>{e(1,s=+w.currentTarget.value),e(2,r=Math.floor(360/s))},m=w=>e(2,r=+w.currentTarget.value),p=w=>e(3,n=+w.currentTarget.value),y=w=>e(4,a=+w.currentTarget.value),v=w=>e(5,o=+w.currentTarget.value),b=w=>e(6,h=+w.currentTarget.value);return l.$$set=w=>{"id"in w&&e(0,i=w.id)},[i,s,r,n,a,o,h,f,u,g,c,d,m,p,y,v,b]}class Zr extends se{constructor(t){super(),re(this,t,Gr,qr,Qt,{id:0})}}function Pi(l,t,e){const i=l.slice();return i[1]=t[e],i}function Mi(l){let t,e;return{c(){t=V("div"),this.h()},l(i){t=k(i,"DIV",{class:!0,style:!0}),D(t).forEach(M),this.h()},h(){T(t,"class","bit svelte-2id25t"),T(t,"style",e=`background-color: ${l[1]?"black":"transparent"}`)},m(i,s){ft(i,t,s)},p(i,s){s&1&&e!==(e=`background-color: ${i[1]?"black":"transparent"}`)&&T(t,"style",e)},d(i){i&&M(t)}}}function jr(l){let t,e=l[0],i=[];for(let s=0;s<e.length;s+=1)i[s]=Mi(Pi(l,e,s));return{c(){t=V("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){t=k(s,"DIV",{class:!0});var r=D(t);for(let n=0;n<i.length;n+=1)i[n].l(r);r.forEach(M),this.h()},h(){T(t,"class","bit-container svelte-2id25t")},m(s,r){ft(s,t,r);for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(t,null)},p(s,[r]){if(r&1){e=s[0];let n;for(n=0;n<e.length;n+=1){const a=Pi(s,e,n);i[n]?i[n].p(a,r):(i[n]=Mi(a),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=e.length}},i:Dt,o:Dt,d(s){s&&M(t),We(i,s)}}}function $r(l,t,e){let{bits:i}=t;return l.$$set=s=>{"bits"in s&&e(0,i=s.bits)},[i]}class we extends se{constructor(t){super(),re(this,t,$r,jr,Qt,{bits:0})}}function Kr(l){let t,e,i,s,r,n,a,o,h,u,f,g,c,d,m,p,y;return n=new Ji({props:{class:"m-1",url:l[0],rounded:!0}}),h=new we({props:{bits:l[1]}}),f=new we({props:{bits:l[1]}}),d=new we({props:{bits:l[1]}}),p=new we({props:{bits:l[1]}}),{c(){t=V("br"),e=Y(),i=V("div"),s=V("div"),r=V("div"),vt(n.$$.fragment),a=Y(),o=V("div"),vt(h.$$.fragment),u=Y(),vt(f.$$.fragment),g=Y(),c=V("div"),vt(d.$$.fragment),m=Y(),vt(p.$$.fragment),this.h()},l(v){t=k(v,"BR",{}),e=U(v),i=k(v,"DIV",{});var b=D(i);s=k(b,"DIV",{class:!0,style:!0});var w=D(s);r=k(w,"DIV",{class:!0});var O=D(r);xt(n.$$.fragment,O),O.forEach(M),a=U(w),o=k(w,"DIV",{class:!0});var P=D(o);xt(h.$$.fragment,P),u=U(P),xt(f.$$.fragment,P),P.forEach(M),g=U(w),c=k(w,"DIV",{class:!0});var C=D(c);xt(d.$$.fragment,C),m=U(C),xt(p.$$.fragment,C),C.forEach(M),w.forEach(M),b.forEach(M),this.h()},h(){T(r,"class","qr-center svelte-18qjwyf"),T(o,"class","bit-group svelte-18qjwyf"),T(c,"class","bit-group rotated svelte-18qjwyf"),T(s,"class","outer-circle svelte-18qjwyf"),T(s,"style","box-shadow: 0 0 0 4px black")},m(v,b){ft(v,t,b),ft(v,e,b),ft(v,i,b),A(i,s),A(s,r),wt(n,r,null),A(s,a),A(s,o),wt(h,o,null),A(o,u),wt(f,o,null),A(s,g),A(s,c),wt(d,c,null),A(c,m),wt(p,c,null),y=!0},p:Dt,i(v){y||(rt(n.$$.fragment,v),rt(h.$$.fragment,v),rt(f.$$.fragment,v),rt(d.$$.fragment,v),rt(p.$$.fragment,v),y=!0)},o(v){nt(n.$$.fragment,v),nt(h.$$.fragment,v),nt(f.$$.fragment,v),nt(d.$$.fragment,v),nt(p.$$.fragment,v),y=!1},d(v){v&&M(t),v&&M(e),v&&M(i),Tt(n),Tt(h),Tt(f),Tt(d),Tt(p)}}}function Jr(l){const t=ts(window.location.href),e=gs(40,.5).join("").split("").map(Number);return[t,e]}class tn extends se{constructor(t){super(),re(this,t,Jr,Kr,Qt,{})}}function en(l){let t,e,i,s,r,n,a,o,h,u,f;return e=new es({}),s=new Zr({props:{id:l[0]}}),o=new tn({}),u=new is({}),{c(){t=V("div"),vt(e.$$.fragment),i=Y(),vt(s.$$.fragment),r=Y(),n=V("br"),a=Y(),vt(o.$$.fragment),h=Y(),vt(u.$$.fragment),this.h()},l(g){t=k(g,"DIV",{class:!0});var c=D(t);xt(e.$$.fragment,c),i=U(c),xt(s.$$.fragment,c),r=U(c),n=k(c,"BR",{}),a=U(c),xt(o.$$.fragment,c),h=U(c),xt(u.$$.fragment,c),c.forEach(M),this.h()},h(){T(t,"class","flex flex-col touch-manipulation items-center min-w-fit font-serif h-screen mt-12")},m(g,c){ft(g,t,c),wt(e,t,null),A(t,i),wt(s,t,null),A(t,r),A(t,n),A(t,a),wt(o,t,null),A(t,h),wt(u,t,null),f=!0},p(g,[c]){const d={};c&1&&(d.id=g[0]),s.$set(d)},i(g){f||(rt(e.$$.fragment,g),rt(s.$$.fragment,g),rt(o.$$.fragment,g),rt(u.$$.fragment,g),f=!0)},o(g){nt(e.$$.fragment,g),nt(s.$$.fragment,g),nt(o.$$.fragment,g),nt(u.$$.fragment,g),f=!1},d(g){g&&M(t),Tt(e),Tt(s),Tt(o),Tt(u)}}}const sn="LGI";function rn(l,t,e){var r;const i=(n,a)=>`${n}:${a}`;let s=(r=window.location.hash)==null?void 0:r.slice(1);return s||(s=i(sn,ki()),window.location.hash=s),[s]}class on extends se{constructor(t){super(),re(this,t,rn,en,Qt,{})}}export{on as default};
